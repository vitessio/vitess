# count on column from LIMIT
"select count(city) from (select phone, id, city from user where id > 12 limit 10) as x"
"unsupported: cross-shard query with aggregates"
{
  "QueryType": "SELECT",
  "Original": "select count(city) from (select phone, id, city from user where id \u003e 12 limit 10) as x",
  "Instructions": {
    "OperatorType": "Aggregate",
    "Variant": "Scalar",
    "Aggregates": "count(0) AS count(city)",
    "Inputs": [
      {
        "OperatorType": "Projection",
        "Expressions": [
          "[COLUMN 2] as count(city)"
        ],
        "Inputs": [
          {
            "OperatorType": "Limit",
            "Count": "INT64(10)",
            "Inputs": [
              {
                "OperatorType": "Route",
                "Variant": "Scatter",
                "Keyspace": {
                  "Name": "user",
                  "Sharded": true
                },
                "FieldQuery": "select phone, id, city from `user` where 1 != 1",
                "Query": "select phone, id, city from `user` where id \u003e 12 limit :__upper_limit",
                "Table": "`user`"
              }
            ]
          }
        ]
      }
    ]
  }
}
