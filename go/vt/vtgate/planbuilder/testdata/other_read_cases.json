[
  {
    "comment": "Explain statement",
    "query": "explain select * from user",
    "plan": {
      "QueryType": "EXPLAIN",
      "Original": "explain select * from user",
      "Instructions": {
        "OperatorType": "Send",
        "Keyspace": {
          "Name": "main",
          "Sharded": false
        },
        "TargetDestination": "AnyShard()",
        "Query": "explain select * from `user`",
        "SingleShardOnly": true
      },
      "TablesUsed": [
        "main.user"
      ]
    }
  },
  {
    "comment": "Analyze statement",
    "query": "analyze table t1",
    "plan": {
      "QueryType": "ANALYZE",
      "Original": "analyze table t1",
      "Instructions": {
        "OperatorType": "Send",
        "Keyspace": {
          "Name": "main",
          "Sharded": false
        },
        "TargetDestination": "AllShards()",
        "Query": "analyze table t1"
      },
      "TablesUsed": [
        "t1"
      ]
    }
  },
  {
    "comment": "Describe statement",
    "query": "describe select * from t",
    "plan": {
      "QueryType": "EXPLAIN",
      "Original": "describe select * from t",
      "Instructions": {
        "OperatorType": "Send",
        "Keyspace": {
          "Name": "main",
          "Sharded": false
        },
        "TargetDestination": "AnyShard()",
        "Query": "explain select * from t",
        "SingleShardOnly": true
      },
      "TablesUsed": [
        "main.t"
      ]
    }
  },
  {
    "comment": "Desc statement",
    "query": "desc select * from t",
    "plan": {
      "QueryType": "EXPLAIN",
      "Original": "desc select * from t",
      "Instructions": {
        "OperatorType": "Send",
        "Keyspace": {
          "Name": "main",
          "Sharded": false
        },
        "TargetDestination": "AnyShard()",
        "Query": "explain select * from t",
        "SingleShardOnly": true
      },
      "TablesUsed": [
        "main.t"
      ]
    }
  },
  {
    "comment": "explain - routed table with same name",
    "query": "explain select 1, second_user.user.id from second_user.user",
    "plan": {
      "QueryType": "EXPLAIN",
      "Original": "explain select 1, second_user.user.id from second_user.user",
      "Instructions": {
        "OperatorType": "Send",
        "Keyspace": {
          "Name": "user",
          "Sharded": true
        },
        "TargetDestination": "AnyShard()",
        "Query": "explain select 1, `user`.id from `user`",
        "SingleShardOnly": true
      },
      "TablesUsed": [
        "user.user"
      ]
    }
  },
  {
    "comment": "explain - routed table with different name",
    "query": "explain select 1, second_user.foo.id, foo.col from second_user.foo",
    "plan": {
      "QueryType": "EXPLAIN",
      "Original": "explain select 1, second_user.foo.id, foo.col from second_user.foo",
      "Instructions": {
        "OperatorType": "Send",
        "Keyspace": {
          "Name": "user",
          "Sharded": true
        },
        "TargetDestination": "AnyShard()",
        "Query": "explain select 1, foo.id, foo.col from `user` as foo",
        "SingleShardOnly": true
      },
      "TablesUsed": [
        "user.foo"
      ]
    }
  },
  {
    "comment": "explain - routed table with join on different table on routed keyspace",
    "query": "explain select 1, second_user.foo.id, foo.col from second_user.foo join user.user join user.music",
    "plan": {
      "QueryType": "EXPLAIN",
      "Original": "explain select 1, second_user.foo.id, foo.col from second_user.foo join user.user join user.music",
      "Instructions": {
        "OperatorType": "Send",
        "Keyspace": {
          "Name": "user",
          "Sharded": true
        },
        "TargetDestination": "AnyShard()",
        "Query": "explain select 1, foo.id, foo.col from `user` as foo join `user` join music",
        "SingleShardOnly": true
      },
      "TablesUsed": [
        "user.foo",
        "user.user",
        "user.music"
      ]
    }
  }
]
