Usage of vttestserver:
  -alsologtostderr
        log to standard error as well as files
  -app_idle_timeout duration
        Idle timeout for app connections (default 1m0s)
  -app_pool_size int
        Size of the connection pool for app connections (default 40)
  -backup_engine_implementation string
        Specifies which implementation to use for creating new backups (builtin or xtrabackup). Restores will always be done with whichever engine created a given backup. (default "builtin")
  -backup_storage_block_size int
        if backup_storage_compress is true, backup_storage_block_size sets the byte size for each block while compressing (default is 250000). (default 250000)
  -backup_storage_compress
        if set, the backup files will be compressed (default is true). Set to false for instance if a backup_storage_hook is specified and it compresses the data. (default true)
  -backup_storage_hook string
        if set, we send the contents of the backup files through this hook.
  -backup_storage_number_blocks int
        if backup_storage_compress is true, backup_storage_number_blocks sets the number of blocks that can be processed, at once, before the writer blocks, during compression (default is 2). It should be equal to the number of CPUs available for compression (default 2)
  -builtinbackup_mysqld_timeout duration
        how long to wait for mysqld to shutdown at the start of the backup (default 10m0s)
  -builtinbackup_progress duration
        how often to send progress updates when backing up large files (default 5s)
  -catch-sigpipe
        catch and ignore SIGPIPE on stdout and stderr if specified
  -cells string
        Comma separated list of cells (default "test")
  -charset string
        MySQL charset (default "utf8mb4")
  -compression-engine-name string
        compressor engine used for compression. (default "pargzip")
  -compression-level int
        what level to pass to the compressor (default 1)
  -consul_auth_static_file value
        JSON File to read the topos/tokens from.
  -data_dir string
        Directory where the data files will be placed, defaults to a random directory under /vt/vtdataroot
  -db-credentials-file string
        db credentials file; send SIGHUP to reload this file
  -db-credentials-server string
        db credentials server type ('file' - file implementation; 'vault' - HashiCorp Vault implementation) (default "file")
  -db-credentials-vault-addr string
        URL to Vault server
  -db-credentials-vault-path string
        Vault path to credentials JSON blob, e.g.: secret/data/prod/dbcreds
  -db-credentials-vault-role-mountpoint string
        Vault AppRole mountpoint; can also be passed using VAULT_MOUNTPOINT environment variable (default "approle")
  -db-credentials-vault-role-secretidfile string
        Path to file containing Vault AppRole secret_id; can also be passed using VAULT_SECRETID environment variable
  -db-credentials-vault-roleid string
        Vault AppRole id; can also be passed using VAULT_ROLEID environment variable
  -db-credentials-vault-timeout duration
        Timeout for vault API operations (default 10s)
  -db-credentials-vault-tls-ca string
        Path to CA PEM for validating Vault server certificate
  -db-credentials-vault-tokenfile string
        Path to file containing Vault auth token; token can also be passed using VAULT_TOKEN environment variable
  -db-credentials-vault-ttl duration
        How long to cache DB credentials from the Vault server (default 30m0s)
  -dba_idle_timeout duration
        Idle timeout for dba connections (default 1m0s)
  -dba_pool_size int
        Size of the connection pool for dba connections (default 20)
  -default_schema_dir string
        Default directory for initial schema files. If no schema is found in schema_dir, default to this location.
  -disable_active_reparents
        if set, do not allow active reparents. Use this to protect a cluster using external reparents.
  -emit_stats
        If set, emit stats to push-based monitoring and stats backends
  -enable_direct_ddl
        Allow users to submit direct DDL statements (default true)
  -enable_online_ddl
        Allow users to submit, review and control Online DDL (default true)
  -enable_system_settings
        This will enable the system settings to be changed per session at the database connection level (default true)
  -external-compressor string
        command with arguments to use when compressing a backup
  -external-compressor-extension string
        extension to use when using an external compressor
  -external-decompressor string
        command with arguments to use when decompressing a backup
  -external_topo_global_root string
        the path of the global topology data in the global topology server for vtcombo process
  -external_topo_global_server_address string
        the address of the global topology server for vtcombo process
  -external_topo_implementation string
        the topology implementation to use for vtcombo process
  -extra_my_cnf string
        extra files to add to the config, separated by ':'
  -foreign_key_mode string
        This is to provide how to handle foreign key constraint in create/alter table. Valid values are: allow, disallow (default "allow")
  -grpc_auth_mode value
        Which auth plugin implementation to use (eg: static)
  -grpc_auth_mtls_allowed_substrings value
        List of substrings of at least one of the client certificate names (separated by colon).
  -grpc_auth_static_client_creds string
        when using grpc_static_auth in the server, this file provides the credentials to use to authenticate with server
  -grpc_auth_static_password_file value
        JSON File to read the users/passwords from.
  -grpc_ca value
        server CA to use for gRPC connections, requires TLS, and enforces client certificate check
  -grpc_cert value
        server certificate to use for gRPC connections, requires grpc_key, enables TLS
  -grpc_compression value
        Which protocol to use for compressing gRPC. Default: nothing. Supported: snappy
  -grpc_crl value
        path to a certificate revocation list in PEM format, client certificates will be further verified against this file during TLS handshake
  -grpc_enable_optional_tls
        enable optional TLS mode when a server accepts both TLS and plain-text connections on the same port
  -grpc_enable_tracing
        Enable gRPC tracing.
  -grpc_initial_conn_window_size value
        gRPC initial connection window size
  -grpc_initial_window_size value
        gRPC initial window size
  -grpc_keepalive_time value
        After a duration of this time, if the client doesn't see any activity, it pings the server to see if the transport is still alive. (default 10s)
  -grpc_keepalive_timeout value
        After having pinged for keepalive check, the client waits for a duration of Timeout and if no activity is seen even after that the connection is closed. (default 10s)
  -grpc_key value
        server private key to use for gRPC connections, requires grpc_cert, enables TLS
  -grpc_max_connection_age value
        Maximum age of a client connection before GoAway is sent. (default 2562047h47m16.854775807s)
  -grpc_max_connection_age_grace value
        Additional grace period after grpc_max_connection_age, after which connections are forcibly closed. (default 2562047h47m16.854775807s)
  -grpc_max_message_size value
        Maximum allowed RPC message size. Larger messages will be rejected by gRPC with the error 'exceeding the max size'. (default 16777216)
  -grpc_port value
        Port to listen on for gRPC calls. If zero, do not listen.
  -grpc_prometheus
        Enable gRPC monitoring with Prometheus.
  -grpc_server_ca value
        path to server CA in PEM format, which will be combine with server cert, return full certificate chain to clients
  -grpc_server_initial_conn_window_size value
        gRPC server initial connection window size
  -grpc_server_initial_window_size value
        gRPC server initial window size
  -grpc_server_keepalive_enforcement_policy_min_time value
        gRPC server minimum keepalive time (default 10s)
  -grpc_server_keepalive_enforcement_policy_permit_without_stream
        gRPC server permit client keepalive pings even when there are no active streams (RPCs)
  -help
        display usage and exit
  -initialize_with_random_data
        If this flag is each table-shard will be initialized with random data. See also the 'rng_seed' and 'min_shard_size' and 'max_shard_size' flags.
  -keep_logs value
        keep logs for this long (using ctime) (zero to keep forever)
  -keep_logs_by_mtime value
        keep logs for this long (using mtime) (zero to keep forever)
  -keyspaces string
        Comma separated list of keyspaces (default "test_keyspace")
  -lameduck-period value
        keep running at least this long after SIGTERM before stopping (default 50ms)
  -log_backtrace_at value
        when logging hits line file:N, emit a stack trace
  -log_dir string
        If non-empty, write log files in this directory
  -log_err_stacks
        log stack traces for errors
  -log_rotate_max_size value
        size in bytes at which logs are rotated (glog.MaxSize) (default 1887436800)
  -logtostderr
        log to standard error instead of files
  -master_connect_retry duration
        Deprecated, use -replication_connect_retry (default 10s)
  -max_table_shard_size int
        The maximum number of initial rows in a table shard. Ignored if--initialize_with_random_data is false. The actual number is chosen randomly (default 10000)
  -min_table_shard_size int
        The minimum number of initial rows in a table shard. Ignored if--initialize_with_random_data is false. The actual number is chosen randomly. (default 1000)
  -mysql_bind_host string
        which host to bind vtgate mysql listener to (default "localhost")
  -mysql_only
        If this flag is set only mysql is initialized. The rest of the vitess components are not started. Also, the output specifies the mysql unix socket instead of the vtgate port.
  -mysql_server_flush_delay duration
        Delay after which buffered response will be flushed to the client. (default 100ms)
  -mysql_server_version value
        MySQL server version to advertise.
  -mysqlctl_client_protocol string
        the protocol to use to talk to the mysqlctl server (default "grpc")
  -mysqlctl_mycnf_template string
        template file to use for generating the my.cnf file during server init
  -mysqlctl_socket string
        socket file to use for remote mysqlctl actions (empty for local actions)
  -null_probability float
        The probability to initialize a field with 'NULL'  if --initialize_with_random_data is true. Only applies to fields that can contain NULL values. (default 0.1)
  -num_shards string
        Comma separated shard count (one per keyspace) (default "2")
  -onclose_timeout value
        wait no more than this for OnClose handlers before stopping (default 1ns)
  -onterm_timeout value
        wait no more than this for OnTermSync handlers before stopping (default 10s)
  -persistent_mode
        If this flag is set, the MySQL data directory is not cleaned up when LocalCluster.TearDown() is called. This is useful for running vttestserver as a database container in local developer environments. Note that db migration files (--schema_dir option) and seeding of random data (--initialize_with_random_data option) will only run during cluster startup if the data directory does not already exist. vschema migrations are run every time the cluster starts, since persistence for the topology server has not been implemented yet
  -pid_file value
        If set, the process will write its pid to the named file, and delete it on graceful shutdown.
  -planner-version string
        Sets the default planner to use when the session has not changed it. Valid values are: V3, Gen4, Gen4Greedy and Gen4Fallback. Gen4Fallback tries the new gen4 planner and falls back to the V3 planner if the gen4 fails.
  -planner_version string
        planner_version is deprecated. Please use planner-version instead
  -pool_hostname_resolve_interval duration
        if set force an update to all hostnames and reconnect if changed, defaults to 0 (disabled)
  -port int
        Port to use for vtcombo. If this is 0, a random port will be chosen.
