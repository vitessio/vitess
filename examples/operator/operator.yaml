apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.16.1
  name: etcdlockservers.planetscale.com
spec:
  group: planetscale.com
  names:
    kind: EtcdLockserver
    listKind: EtcdLockserverList
    plural: etcdlockservers
    shortNames:
      - etcdls
    singular: etcdlockserver
  scope: Namespaced
  versions:
    - name: v2
      schema:
        openAPIV3Schema:
          properties:
            apiVersion:
              type: string
            kind:
              type: string
            metadata:
              type: object
            spec:
              properties:
                advertisePeerURLs:
                  items:
                    type: string
                  maxItems: 3
                  minItems: 3
                  type: array
                affinity:
                  x-kubernetes-preserve-unknown-fields: true
                annotations:
                  additionalProperties:
                    type: string
                  type: object
                clientService:
                  properties:
                    annotations:
                      additionalProperties:
                        type: string
                      type: object
                    clusterIP:
                      type: string
                  type: object
                createClientService:
                  type: boolean
                createPDB:
                  type: boolean
                createPeerService:
                  type: boolean
                dataVolumeClaimTemplate:
                  properties:
                    accessModes:
                      items:
                        type: string
                      type: array
                      x-kubernetes-list-type: atomic
                    dataSource:
                      properties:
                        apiGroup:
                          type: string
                        kind:
                          type: string
                        name:
                          type: string
                      required:
                        - kind
                        - name
                      type: object
                      x-kubernetes-map-type: atomic
                    dataSourceRef:
                      properties:
                        apiGroup:
                          type: string
                        kind:
                          type: string
                        name:
                          type: string
                        namespace:
                          type: string
                      required:
                        - kind
                        - name
                      type: object
                    resources:
                      properties:
                        limits:
                          additionalProperties:
                            anyOf:
                              - type: integer
                              - type: string
                            pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                            x-kubernetes-int-or-string: true
                          type: object
                        requests:
                          additionalProperties:
                            anyOf:
                              - type: integer
                              - type: string
                            pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                            x-kubernetes-int-or-string: true
                          type: object
                      type: object
                    selector:
                      properties:
                        matchExpressions:
                          items:
                            properties:
                              key:
                                type: string
                              operator:
                                type: string
                              values:
                                items:
                                  type: string
                                type: array
                                x-kubernetes-list-type: atomic
                            required:
                              - key
                              - operator
                            type: object
                          type: array
                          x-kubernetes-list-type: atomic
                        matchLabels:
                          additionalProperties:
                            type: string
                          type: object
                      type: object
                      x-kubernetes-map-type: atomic
                    storageClassName:
                      type: string
                    volumeAttributesClassName:
                      type: string
                    volumeMode:
                      type: string
                    volumeName:
                      type: string
                  type: object
                extraEnv:
                  items:
                    properties:
                      name:
                        type: string
                      value:
                        type: string
                      valueFrom:
                        properties:
                          configMapKeyRef:
                            properties:
                              key:
                                type: string
                              name:
                                default: ""
                                type: string
                              optional:
                                type: boolean
                            required:
                              - key
                            type: object
                            x-kubernetes-map-type: atomic
                          fieldRef:
                            properties:
                              apiVersion:
                                type: string
                              fieldPath:
                                type: string
                            required:
                              - fieldPath
                            type: object
                            x-kubernetes-map-type: atomic
                          resourceFieldRef:
                            properties:
                              containerName:
                                type: string
                              divisor:
                                anyOf:
                                  - type: integer
                                  - type: string
                                pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                x-kubernetes-int-or-string: true
                              resource:
                                type: string
                            required:
                              - resource
                            type: object
                            x-kubernetes-map-type: atomic
                          secretKeyRef:
                            properties:
                              key:
                                type: string
                              name:
                                default: ""
                                type: string
                              optional:
                                type: boolean
                            required:
                              - key
                            type: object
                            x-kubernetes-map-type: atomic
                        type: object
                    required:
                      - name
                    type: object
                  type: array
                extraFlags:
                  additionalProperties:
                    type: string
                  type: object
                extraLabels:
                  additionalProperties:
                    type: string
                  type: object
                extraVolumeMounts:
                  items:
                    properties:
                      mountPath:
                        type: string
                      mountPropagation:
                        type: string
                      name:
                        type: string
                      readOnly:
                        type: boolean
                      recursiveReadOnly:
                        type: string
                      subPath:
                        type: string
                      subPathExpr:
                        type: string
                    required:
                      - mountPath
                      - name
                    type: object
                  type: array
                extraVolumes:
                  x-kubernetes-preserve-unknown-fields: true
                image:
                  type: string
                imagePullPolicy:
                  type: string
                imagePullSecrets:
                  items:
                    properties:
                      name:
                        default: ""
                        type: string
                    type: object
                    x-kubernetes-map-type: atomic
                  type: array
                initContainers:
                  x-kubernetes-preserve-unknown-fields: true
                localMemberIndex:
                  format: int32
                  maximum: 3
                  minimum: 1
                  type: integer
                peerService:
                  properties:
                    annotations:
                      additionalProperties:
                        type: string
                      type: object
                    clusterIP:
                      type: string
                  type: object
                resources:
                  properties:
                    claims:
                      items:
                        properties:
                          name:
                            type: string
                          request:
                            type: string
                        required:
                          - name
                        type: object
                      type: array
                      x-kubernetes-list-map-keys:
                        - name
                      x-kubernetes-list-type: map
                    limits:
                      additionalProperties:
                        anyOf:
                          - type: integer
                          - type: string
                        pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                        x-kubernetes-int-or-string: true
                      type: object
                    requests:
                      additionalProperties:
                        anyOf:
                          - type: integer
                          - type: string
                        pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                        x-kubernetes-int-or-string: true
                      type: object
                  type: object
                sidecarContainers:
                  x-kubernetes-preserve-unknown-fields: true
                tolerations:
                  x-kubernetes-preserve-unknown-fields: true
                zone:
                  type: string
              type: object
            status:
              properties:
                available:
                  type: string
                clientServiceName:
                  type: string
                observedGeneration:
                  format: int64
                  type: integer
              type: object
          type: object
      served: true
      storage: true
      subresources:
        status: {}
---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.16.1
  name: vitessbackups.planetscale.com
spec:
  group: planetscale.com
  names:
    kind: VitessBackup
    listKind: VitessBackupList
    plural: vitessbackups
    shortNames:
      - vtb
    singular: vitessbackup
  scope: Namespaced
  versions:
    - name: v2
      schema:
        openAPIV3Schema:
          properties:
            apiVersion:
              type: string
            kind:
              type: string
            metadata:
              type: object
            spec:
              type: object
            status:
              properties:
                complete:
                  type: boolean
                engine:
                  type: string
                finishedTime:
                  format: date-time
                  type: string
                position:
                  type: string
                startTime:
                  format: date-time
                  type: string
                storageDirectory:
                  type: string
                storageName:
                  type: string
              type: object
          type: object
      served: true
      storage: true
---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.16.1
  name: vitessbackupschedules.planetscale.com
spec:
  group: planetscale.com
  names:
    kind: VitessBackupSchedule
    listKind: VitessBackupScheduleList
    plural: vitessbackupschedules
    singular: vitessbackupschedule
  scope: Namespaced
  versions:
    - name: v2
      schema:
        openAPIV3Schema:
          properties:
            apiVersion:
              type: string
            kind:
              type: string
            metadata:
              type: object
            spec:
              properties:
                affinity:
                  x-kubernetes-preserve-unknown-fields: true
                allowedMissedRun:
                  minimum: 0
                  type: integer
                annotations:
                  additionalProperties:
                    type: string
                  type: object
                cluster:
                  type: string
                concurrencyPolicy:
                  enum:
                    - Allow
                    - Forbid
                  example: Forbid
                  type: string
                failedJobsHistoryLimit:
                  format: int32
                  minimum: 0
                  type: integer
                image:
                  type: string
                imagePullPolicy:
                  type: string
                jobTimeoutMinute:
                  default: 10
                  format: int32
                  minimum: 0
                  type: integer
                name:
                  example: every-day
                  minLength: 1
                  pattern: ^[A-Za-z0-9]([A-Za-z0-9-]*[A-Za-z0-9])?$
                  type: string
                resources:
                  properties:
                    claims:
                      items:
                        properties:
                          name:
                            type: string
                          request:
                            type: string
                        required:
                          - name
                        type: object
                      type: array
                      x-kubernetes-list-map-keys:
                        - name
                      x-kubernetes-list-type: map
                    limits:
                      additionalProperties:
                        anyOf:
                          - type: integer
                          - type: string
                        pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                        x-kubernetes-int-or-string: true
                      type: object
                    requests:
                      additionalProperties:
                        anyOf:
                          - type: integer
                          - type: string
                        pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                        x-kubernetes-int-or-string: true
                      type: object
                  type: object
                schedule:
                  example: 0 0 * * *
                  minLength: 0
                  type: string
                startingDeadlineSeconds:
                  format: int64
                  minimum: 0
                  type: integer
                strategies:
                  items:
                    properties:
                      extraFlags:
                        additionalProperties:
                          type: string
                        type: object
                      keyspace:
                        example: commerce
                        type: string
                      name:
                        enum:
                          - BackupShard
                        type: string
                      shard:
                        example: '-'
                        type: string
                    required:
                      - keyspace
                      - name
                      - shard
                    type: object
                  minItems: 1
                  type: array
                successfulJobsHistoryLimit:
                  format: int32
                  minimum: 0
                  type: integer
                suspend:
                  type: boolean
              required:
                - cluster
                - name
                - resources
                - schedule
                - strategies
              type: object
            status:
              properties:
                active:
                  items:
                    properties:
                      apiVersion:
                        type: string
                      fieldPath:
                        type: string
                      kind:
                        type: string
                      name:
                        type: string
                      namespace:
                        type: string
                      resourceVersion:
                        type: string
                      uid:
                        type: string
                    type: object
                    x-kubernetes-map-type: atomic
                  type: array
                lastScheduledTime:
                  format: date-time
                  type: string
              type: object
          type: object
      served: true
      storage: true
      subresources:
        status: {}
---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.16.1
  name: vitessbackupstorages.planetscale.com
spec:
  group: planetscale.com
  names:
    kind: VitessBackupStorage
    listKind: VitessBackupStorageList
    plural: vitessbackupstorages
    shortNames:
      - vtbs
    singular: vitessbackupstorage
  scope: Namespaced
  versions:
    - name: v2
      schema:
        openAPIV3Schema:
          properties:
            apiVersion:
              type: string
            kind:
              type: string
            metadata:
              type: object
            spec:
              properties:
                location:
                  properties:
                    annotations:
                      additionalProperties:
                        type: string
                      type: object
                    azblob:
                      properties:
                        account:
                          minLength: 1
                          type: string
                        authSecret:
                          properties:
                            key:
                              type: string
                            name:
                              type: string
                            volumeName:
                              type: string
                          required:
                            - key
                          type: object
                        container:
                          minLength: 1
                          type: string
                        keyPrefix:
                          maxLength: 256
                          pattern: ^[^\r\n]*$
                          type: string
                      required:
                        - account
                        - authSecret
                        - container
                      type: object
                    ceph:
                      properties:
                        authSecret:
                          properties:
                            key:
                              type: string
                            name:
                              type: string
                            volumeName:
                              type: string
                          required:
                            - key
                          type: object
                      required:
                        - authSecret
                      type: object
                    gcs:
                      properties:
                        authSecret:
                          properties:
                            key:
                              type: string
                            name:
                              type: string
                            volumeName:
                              type: string
                          required:
                            - key
                          type: object
                        bucket:
                          minLength: 1
                          type: string
                        keyPrefix:
                          maxLength: 256
                          pattern: ^[^\r\n]*$
                          type: string
                      required:
                        - bucket
                      type: object
                    name:
                      maxLength: 63
                      pattern: ^[A-Za-z0-9]([A-Za-z0-9-_.]*[A-Za-z0-9])?$
                      type: string
                    s3:
                      properties:
                        authSecret:
                          properties:
                            key:
                              type: string
                            name:
                              type: string
                            volumeName:
                              type: string
                          required:
                            - key
                          type: object
                        bucket:
                          minLength: 1
                          type: string
                        endpoint:
                          type: string
                        forcePathStyle:
                          type: boolean
                        keyPrefix:
                          maxLength: 256
                          pattern: ^[^\r\n]*$
                          type: string
                        region:
                          minLength: 1
                          type: string
                      required:
                        - bucket
                        - region
                      type: object
                    volume:
                      x-kubernetes-preserve-unknown-fields: true
                    volumeSubPath:
                      type: string
                  type: object
                subcontroller:
                  properties:
                    serviceAccountName:
                      type: string
                  type: object
              required:
                - location
              type: object
            status:
              properties:
                observedGeneration:
                  format: int64
                  type: integer
                totalBackupCount:
                  format: int32
                  type: integer
              type: object
          type: object
      served: true
      storage: true
      subresources:
        status: {}
---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.16.1
  name: vitesscells.planetscale.com
spec:
  group: planetscale.com
  names:
    kind: VitessCell
    listKind: VitessCellList
    plural: vitesscells
    shortNames:
      - vtc
    singular: vitesscell
  scope: Namespaced
  versions:
    - name: v2
      schema:
        openAPIV3Schema:
          properties:
            apiVersion:
              type: string
            kind:
              type: string
            metadata:
              type: object
            spec:
              properties:
                allCells:
                  items:
                    type: string
                  type: array
                extraVitessFlags:
                  additionalProperties:
                    type: string
                  type: object
                gateway:
                  properties:
                    affinity:
                      x-kubernetes-preserve-unknown-fields: true
                    annotations:
                      additionalProperties:
                        type: string
                      type: object
                    authentication:
                      properties:
                        static:
                          properties:
                            secret:
                              properties:
                                key:
                                  type: string
                                name:
                                  type: string
                                volumeName:
                                  type: string
                              required:
                                - key
                              type: object
                          type: object
                      type: object
                    autoscaler:
                      properties:
                        behavior:
                          properties:
                            scaleDown:
                              properties:
                                policies:
                                  items:
                                    properties:
                                      periodSeconds:
                                        format: int32
                                        type: integer
                                      type:
                                        type: string
                                      value:
                                        format: int32
                                        type: integer
                                    required:
                                      - periodSeconds
                                      - type
                                      - value
                                    type: object
                                  type: array
                                  x-kubernetes-list-type: atomic
                                selectPolicy:
                                  type: string
                                stabilizationWindowSeconds:
                                  format: int32
                                  type: integer
                              type: object
                            scaleUp:
                              properties:
                                policies:
                                  items:
                                    properties:
                                      periodSeconds:
                                        format: int32
                                        type: integer
                                      type:
                                        type: string
                                      value:
                                        format: int32
                                        type: integer
                                    required:
                                      - periodSeconds
                                      - type
                                      - value
                                    type: object
                                  type: array
                                  x-kubernetes-list-type: atomic
                                selectPolicy:
                                  type: string
                                stabilizationWindowSeconds:
                                  format: int32
                                  type: integer
                              type: object
                          type: object
                        maxReplicas:
                          format: int32
                          minimum: 0
                          type: integer
                        metrics:
                          items:
                            properties:
                              containerResource:
                                properties:
                                  container:
                                    type: string
                                  name:
                                    type: string
                                  target:
                                    properties:
                                      averageUtilization:
                                        format: int32
                                        type: integer
                                      averageValue:
                                        anyOf:
                                          - type: integer
                                          - type: string
                                        pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                        x-kubernetes-int-or-string: true
                                      type:
                                        type: string
                                      value:
                                        anyOf:
                                          - type: integer
                                          - type: string
                                        pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                        x-kubernetes-int-or-string: true
                                    required:
                                      - type
                                    type: object
                                required:
                                  - container
                                  - name
                                  - target
                                type: object
                              external:
                                properties:
                                  metric:
                                    properties:
                                      name:
                                        type: string
                                      selector:
                                        properties:
                                          matchExpressions:
                                            items:
                                              properties:
                                                key:
                                                  type: string
                                                operator:
                                                  type: string
                                                values:
                                                  items:
                                                    type: string
                                                  type: array
                                                  x-kubernetes-list-type: atomic
                                              required:
                                                - key
                                                - operator
                                              type: object
                                            type: array
                                            x-kubernetes-list-type: atomic
                                          matchLabels:
                                            additionalProperties:
                                              type: string
                                            type: object
                                        type: object
                                        x-kubernetes-map-type: atomic
                                    required:
                                      - name
                                    type: object
                                  target:
                                    properties:
                                      averageUtilization:
                                        format: int32
                                        type: integer
                                      averageValue:
                                        anyOf:
                                          - type: integer
                                          - type: string
                                        pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                        x-kubernetes-int-or-string: true
                                      type:
                                        type: string
                                      value:
                                        anyOf:
                                          - type: integer
                                          - type: string
                                        pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                        x-kubernetes-int-or-string: true
                                    required:
                                      - type
                                    type: object
                                required:
                                  - metric
                                  - target
                                type: object
                              object:
                                properties:
                                  describedObject:
                                    properties:
                                      apiVersion:
                                        type: string
                                      kind:
                                        type: string
                                      name:
                                        type: string
                                    required:
                                      - kind
                                      - name
                                    type: object
                                  metric:
                                    properties:
                                      name:
                                        type: string
                                      selector:
                                        properties:
                                          matchExpressions:
                                            items:
                                              properties:
                                                key:
                                                  type: string
                                                operator:
                                                  type: string
                                                values:
                                                  items:
                                                    type: string
                                                  type: array
                                                  x-kubernetes-list-type: atomic
                                              required:
                                                - key
                                                - operator
                                              type: object
                                            type: array
                                            x-kubernetes-list-type: atomic
                                          matchLabels:
                                            additionalProperties:
                                              type: string
                                            type: object
                                        type: object
                                        x-kubernetes-map-type: atomic
                                    required:
                                      - name
                                    type: object
                                  target:
                                    properties:
                                      averageUtilization:
                                        format: int32
                                        type: integer
                                      averageValue:
                                        anyOf:
                                          - type: integer
                                          - type: string
                                        pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                        x-kubernetes-int-or-string: true
                                      type:
                                        type: string
                                      value:
                                        anyOf:
                                          - type: integer
                                          - type: string
                                        pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                        x-kubernetes-int-or-string: true
                                    required:
                                      - type
                                    type: object
                                required:
                                  - describedObject
                                  - metric
                                  - target
                                type: object
                              pods:
                                properties:
                                  metric:
                                    properties:
                                      name:
                                        type: string
                                      selector:
                                        properties:
                                          matchExpressions:
                                            items:
                                              properties:
                                                key:
                                                  type: string
                                                operator:
                                                  type: string
                                                values:
                                                  items:
                                                    type: string
                                                  type: array
                                                  x-kubernetes-list-type: atomic
                                              required:
                                                - key
                                                - operator
                                              type: object
                                            type: array
                                            x-kubernetes-list-type: atomic
                                          matchLabels:
                                            additionalProperties:
                                              type: string
                                            type: object
                                        type: object
                                        x-kubernetes-map-type: atomic
                                    required:
                                      - name
                                    type: object
                                  target:
                                    properties:
                                      averageUtilization:
                                        format: int32
                                        type: integer
                                      averageValue:
                                        anyOf:
                                          - type: integer
                                          - type: string
                                        pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                        x-kubernetes-int-or-string: true
                                      type:
                                        type: string
                                      value:
                                        anyOf:
                                          - type: integer
                                          - type: string
                                        pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                        x-kubernetes-int-or-string: true
                                    required:
                                      - type
                                    type: object
                                required:
                                  - metric
                                  - target
                                type: object
                              resource:
                                properties:
                                  name:
                                    type: string
                                  target:
                                    properties:
                                      averageUtilization:
                                        format: int32
                                        type: integer
                                      averageValue:
                                        anyOf:
                                          - type: integer
                                          - type: string
                                        pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                        x-kubernetes-int-or-string: true
                                      type:
                                        type: string
                                      value:
                                        anyOf:
                                          - type: integer
                                          - type: string
                                        pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                        x-kubernetes-int-or-string: true
                                    required:
                                      - type
                                    type: object
                                required:
                                  - name
                                  - target
                                type: object
                              type:
                                type: string
                            required:
                              - type
                            type: object
                          type: array
                          x-kubernetes-list-type: atomic
                        minReplicas:
                          format: int32
                          minimum: 0
                          type: integer
                      type: object
                    extraEnv:
                      items:
                        properties:
                          name:
                            type: string
                          value:
                            type: string
                          valueFrom:
                            properties:
                              configMapKeyRef:
                                properties:
                                  key:
                                    type: string
                                  name:
                                    default: ""
                                    type: string
                                  optional:
                                    type: boolean
                                required:
                                  - key
                                type: object
                                x-kubernetes-map-type: atomic
                              fieldRef:
                                properties:
                                  apiVersion:
                                    type: string
                                  fieldPath:
                                    type: string
                                required:
                                  - fieldPath
                                type: object
                                x-kubernetes-map-type: atomic
                              resourceFieldRef:
                                properties:
                                  containerName:
                                    type: string
                                  divisor:
                                    anyOf:
                                      - type: integer
                                      - type: string
                                    pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                    x-kubernetes-int-or-string: true
                                  resource:
                                    type: string
                                required:
                                  - resource
                                type: object
                                x-kubernetes-map-type: atomic
                              secretKeyRef:
                                properties:
                                  key:
                                    type: string
                                  name:
                                    default: ""
                                    type: string
                                  optional:
                                    type: boolean
                                required:
                                  - key
                                type: object
                                x-kubernetes-map-type: atomic
                            type: object
                        required:
                          - name
                        type: object
                      type: array
                    extraFlags:
                      additionalProperties:
                        type: string
                      type: object
                    extraLabels:
                      additionalProperties:
                        type: string
                      type: object
                    extraVolumeMounts:
                      items:
                        properties:
                          mountPath:
                            type: string
                          mountPropagation:
                            type: string
                          name:
                            type: string
                          readOnly:
                            type: boolean
                          recursiveReadOnly:
                            type: string
                          subPath:
                            type: string
                          subPathExpr:
                            type: string
                        required:
                          - mountPath
                          - name
                        type: object
                      type: array
                    extraVolumes:
                      x-kubernetes-preserve-unknown-fields: true
                    initContainers:
                      x-kubernetes-preserve-unknown-fields: true
                    lifecycle:
                      properties:
                        postStart:
                          properties:
                            exec:
                              properties:
                                command:
                                  items:
                                    type: string
                                  type: array
                                  x-kubernetes-list-type: atomic
                              type: object
                            httpGet:
                              properties:
                                host:
                                  type: string
                                httpHeaders:
                                  items:
                                    properties:
                                      name:
                                        type: string
                                      value:
                                        type: string
                                    required:
                                      - name
                                      - value
                                    type: object
                                  type: array
                                  x-kubernetes-list-type: atomic
                                path:
                                  type: string
                                port:
                                  anyOf:
                                    - type: integer
                                    - type: string
                                  x-kubernetes-int-or-string: true
                                scheme:
                                  type: string
                              required:
                                - port
                              type: object
                            sleep:
                              properties:
                                seconds:
                                  format: int64
                                  type: integer
                              required:
                                - seconds
                              type: object
                            tcpSocket:
                              properties:
                                host:
                                  type: string
                                port:
                                  anyOf:
                                    - type: integer
                                    - type: string
                                  x-kubernetes-int-or-string: true
                              required:
                                - port
                              type: object
                          type: object
                        preStop:
                          properties:
                            exec:
                              properties:
                                command:
                                  items:
                                    type: string
                                  type: array
                                  x-kubernetes-list-type: atomic
                              type: object
                            httpGet:
                              properties:
                                host:
                                  type: string
                                httpHeaders:
                                  items:
                                    properties:
                                      name:
                                        type: string
                                      value:
                                        type: string
                                    required:
                                      - name
                                      - value
                                    type: object
                                  type: array
                                  x-kubernetes-list-type: atomic
                                path:
                                  type: string
                                port:
                                  anyOf:
                                    - type: integer
                                    - type: string
                                  x-kubernetes-int-or-string: true
                                scheme:
                                  type: string
                              required:
                                - port
                              type: object
                            sleep:
                              properties:
                                seconds:
                                  format: int64
                                  type: integer
                              required:
                                - seconds
                              type: object
                            tcpSocket:
                              properties:
                                host:
                                  type: string
                                port:
                                  anyOf:
                                    - type: integer
                                    - type: string
                                  x-kubernetes-int-or-string: true
                              required:
                                - port
                              type: object
                          type: object
                      type: object
                    replicas:
                      format: int32
                      minimum: 0
                      type: integer
                    resources:
                      properties:
                        claims:
                          items:
                            properties:
                              name:
                                type: string
                              request:
                                type: string
                            required:
                              - name
                            type: object
                          type: array
                          x-kubernetes-list-map-keys:
                            - name
                          x-kubernetes-list-type: map
                        limits:
                          additionalProperties:
                            anyOf:
                              - type: integer
                              - type: string
                            pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                            x-kubernetes-int-or-string: true
                          type: object
                        requests:
                          additionalProperties:
                            anyOf:
                              - type: integer
                              - type: string
                            pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                            x-kubernetes-int-or-string: true
                          type: object
                      type: object
                    secureTransport:
                      properties:
                        required:
                          type: boolean
                        tls:
                          properties:
                            certSecret:
                              properties:
                                key:
                                  type: string
                                name:
                                  type: string
                                volumeName:
                                  type: string
                              required:
                                - key
                              type: object
                            clientCACertSecret:
                              properties:
                                key:
                                  type: string
                                name:
                                  type: string
                                volumeName:
                                  type: string
                              required:
                                - key
                              type: object
                            keySecret:
                              properties:
                                key:
                                  type: string
                                name:
                                  type: string
                                volumeName:
                                  type: string
                              required:
                                - key
                              type: object
                          type: object
                      type: object
                    service:
                      properties:
                        annotations:
                          additionalProperties:
                            type: string
                          type: object
                        clusterIP:
                          type: string
                      type: object
                    sidecarContainers:
                      x-kubernetes-preserve-unknown-fields: true
                    terminationGracePeriodSeconds:
                      format: int64
                      type: integer
                    tolerations:
                      x-kubernetes-preserve-unknown-fields: true
                    topologySpreadConstraints:
                      x-kubernetes-preserve-unknown-fields: true
                  type: object
                globalLockserver:
                  properties:
                    address:
                      type: string
                    implementation:
                      type: string
                    rootPath:
                      type: string
                  required:
                    - address
                    - implementation
                    - rootPath
                  type: object
                imagePullPolicies:
                  properties:
                    mysqld:
                      type: string
                    mysqldExporter:
                      type: string
                    vtadmin:
                      type: string
                    vtbackup:
                      type: string
                    vtctld:
                      type: string
                    vtgate:
                      type: string
                    vtorc:
                      type: string
                    vttablet:
                      type: string
                  type: object
                imagePullSecrets:
                  items:
                    properties:
                      name:
                        default: ""
                        type: string
                    type: object
                    x-kubernetes-map-type: atomic
                  type: array
                images:
                  properties:
                    vtgate:
                      type: string
                  type: object
                lockserver:
                  properties:
                    cellInfoAddress:
                      type: string
                    etcd:
                      properties:
                        advertisePeerURLs:
                          items:
                            type: string
                          maxItems: 3
                          minItems: 3
                          type: array
                        affinity:
                          x-kubernetes-preserve-unknown-fields: true
                        annotations:
                          additionalProperties:
                            type: string
                          type: object
                        clientService:
                          properties:
                            annotations:
                              additionalProperties:
                                type: string
                              type: object
                            clusterIP:
                              type: string
                          type: object
                        createClientService:
                          type: boolean
                        createPDB:
                          type: boolean
                        createPeerService:
                          type: boolean
                        dataVolumeClaimTemplate:
                          properties:
                            accessModes:
                              items:
                                type: string
                              type: array
                              x-kubernetes-list-type: atomic
                            dataSource:
                              properties:
                                apiGroup:
                                  type: string
                                kind:
                                  type: string
                                name:
                                  type: string
                              required:
                                - kind
                                - name
                              type: object
                              x-kubernetes-map-type: atomic
                            dataSourceRef:
                              properties:
                                apiGroup:
                                  type: string
                                kind:
                                  type: string
                                name:
                                  type: string
                                namespace:
                                  type: string
                              required:
                                - kind
                                - name
                              type: object
                            resources:
                              properties:
                                limits:
                                  additionalProperties:
                                    anyOf:
                                      - type: integer
                                      - type: string
                                    pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                    x-kubernetes-int-or-string: true
                                  type: object
                                requests:
                                  additionalProperties:
                                    anyOf:
                                      - type: integer
                                      - type: string
                                    pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                    x-kubernetes-int-or-string: true
                                  type: object
                              type: object
                            selector:
                              properties:
                                matchExpressions:
                                  items:
                                    properties:
                                      key:
                                        type: string
                                      operator:
                                        type: string
                                      values:
                                        items:
                                          type: string
                                        type: array
                                        x-kubernetes-list-type: atomic
                                    required:
                                      - key
                                      - operator
                                    type: object
                                  type: array
                                  x-kubernetes-list-type: atomic
                                matchLabels:
                                  additionalProperties:
                                    type: string
                                  type: object
                              type: object
                              x-kubernetes-map-type: atomic
                            storageClassName:
                              type: string
                            volumeAttributesClassName:
                              type: string
                            volumeMode:
                              type: string
                            volumeName:
                              type: string
                          type: object
                        extraEnv:
                          items:
                            properties:
                              name:
                                type: string
                              value:
                                type: string
                              valueFrom:
                                properties:
                                  configMapKeyRef:
                                    properties:
                                      key:
                                        type: string
                                      name:
                                        default: ""
                                        type: string
                                      optional:
                                        type: boolean
                                    required:
                                      - key
                                    type: object
                                    x-kubernetes-map-type: atomic
                                  fieldRef:
                                    properties:
                                      apiVersion:
                                        type: string
                                      fieldPath:
                                        type: string
                                    required:
                                      - fieldPath
                                    type: object
                                    x-kubernetes-map-type: atomic
                                  resourceFieldRef:
                                    properties:
                                      containerName:
                                        type: string
                                      divisor:
                                        anyOf:
                                          - type: integer
                                          - type: string
                                        pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                        x-kubernetes-int-or-string: true
                                      resource:
                                        type: string
                                    required:
                                      - resource
                                    type: object
                                    x-kubernetes-map-type: atomic
                                  secretKeyRef:
                                    properties:
                                      key:
                                        type: string
                                      name:
                                        default: ""
                                        type: string
                                      optional:
                                        type: boolean
                                    required:
                                      - key
                                    type: object
                                    x-kubernetes-map-type: atomic
                                type: object
                            required:
                              - name
                            type: object
                          type: array
                        extraFlags:
                          additionalProperties:
                            type: string
                          type: object
                        extraLabels:
                          additionalProperties:
                            type: string
                          type: object
                        extraVolumeMounts:
                          items:
                            properties:
                              mountPath:
                                type: string
                              mountPropagation:
                                type: string
                              name:
                                type: string
                              readOnly:
                                type: boolean
                              recursiveReadOnly:
                                type: string
                              subPath:
                                type: string
                              subPathExpr:
                                type: string
                            required:
                              - mountPath
                              - name
                            type: object
                          type: array
                        extraVolumes:
                          x-kubernetes-preserve-unknown-fields: true
                        image:
                          type: string
                        imagePullPolicy:
                          type: string
                        imagePullSecrets:
                          items:
                            properties:
                              name:
                                default: ""
                                type: string
                            type: object
                            x-kubernetes-map-type: atomic
                          type: array
                        initContainers:
                          x-kubernetes-preserve-unknown-fields: true
                        localMemberIndex:
                          format: int32
                          maximum: 3
                          minimum: 1
                          type: integer
                        peerService:
                          properties:
                            annotations:
                              additionalProperties:
                                type: string
                              type: object
                            clusterIP:
                              type: string
                          type: object
                        resources:
                          properties:
                            claims:
                              items:
                                properties:
                                  name:
                                    type: string
                                  request:
                                    type: string
                                required:
                                  - name
                                type: object
                              type: array
                              x-kubernetes-list-map-keys:
                                - name
                              x-kubernetes-list-type: map
                            limits:
                              additionalProperties:
                                anyOf:
                                  - type: integer
                                  - type: string
                                pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                x-kubernetes-int-or-string: true
                              type: object
                            requests:
                              additionalProperties:
                                anyOf:
                                  - type: integer
                                  - type: string
                                pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                x-kubernetes-int-or-string: true
                              type: object
                          type: object
                        sidecarContainers:
                          x-kubernetes-preserve-unknown-fields: true
                        tolerations:
                          x-kubernetes-preserve-unknown-fields: true
                      type: object
                    external:
                      properties:
                        address:
                          type: string
                        implementation:
                          type: string
                        rootPath:
                          type: string
                      required:
                        - address
                        - implementation
                        - rootPath
                      type: object
                  type: object
                name:
                  maxLength: 63
                  minLength: 1
                  pattern: ^[A-Za-z0-9]([_.A-Za-z0-9]*[A-Za-z0-9])?$
                  type: string
                topologyReconciliation:
                  properties:
                    pruneCells:
                      type: boolean
                    pruneKeyspaces:
                      type: boolean
                    pruneShardCells:
                      type: boolean
                    pruneShards:
                      type: boolean
                    pruneSrvKeyspaces:
                      type: boolean
                    pruneTablets:
                      type: boolean
                    registerCells:
                      type: boolean
                    registerCellsAliases:
                      type: boolean
                  type: object
                zone:
                  type: string
              required:
                - allCells
                - globalLockserver
                - name
              type: object
            status:
              properties:
                gateway:
                  properties:
                    available:
                      type: string
                    labelSelector:
                      type: string
                    replicas:
                      format: int32
                      minimum: 0
                      type: integer
                    serviceName:
                      type: string
                  type: object
                idle:
                  type: string
                keyspaces:
                  additionalProperties:
                    type: object
                  type: object
                lockserver:
                  properties:
                    etcd:
                      properties:
                        available:
                          type: string
                        clientServiceName:
                          type: string
                        observedGeneration:
                          format: int64
                          type: integer
                      type: object
                  type: object
                observedGeneration:
                  format: int64
                  type: integer
              type: object
          type: object
      served: true
      storage: true
      subresources:
        scale:
          labelSelectorPath: .status.gateway.labelSelector
          specReplicasPath: .spec.gateway.replicas
          statusReplicasPath: .status.gateway.replicas
        status: {}
---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.16.1
  name: vitessclusters.planetscale.com
spec:
  group: planetscale.com
  names:
    kind: VitessCluster
    listKind: VitessClusterList
    plural: vitessclusters
    shortNames:
      - vt
    singular: vitesscluster
  scope: Namespaced
  versions:
    - name: v2
      schema:
        openAPIV3Schema:
          properties:
            apiVersion:
              type: string
            kind:
              type: string
            metadata:
              type: object
            spec:
              properties:
                backup:
                  properties:
                    engine:
                      enum:
                        - builtin
                        - xtrabackup
                        - mysqlshell
                      type: string
                    locations:
                      items:
                        properties:
                          annotations:
                            additionalProperties:
                              type: string
                            type: object
                          azblob:
                            properties:
                              account:
                                minLength: 1
                                type: string
                              authSecret:
                                properties:
                                  key:
                                    type: string
                                  name:
                                    type: string
                                  volumeName:
                                    type: string
                                required:
                                  - key
                                type: object
                              container:
                                minLength: 1
                                type: string
                              keyPrefix:
                                maxLength: 256
                                pattern: ^[^\r\n]*$
                                type: string
                            required:
                              - account
                              - authSecret
                              - container
                            type: object
                          ceph:
                            properties:
                              authSecret:
                                properties:
                                  key:
                                    type: string
                                  name:
                                    type: string
                                  volumeName:
                                    type: string
                                required:
                                  - key
                                type: object
                            required:
                              - authSecret
                            type: object
                          gcs:
                            properties:
                              authSecret:
                                properties:
                                  key:
                                    type: string
                                  name:
                                    type: string
                                  volumeName:
                                    type: string
                                required:
                                  - key
                                type: object
                              bucket:
                                minLength: 1
                                type: string
                              keyPrefix:
                                maxLength: 256
                                pattern: ^[^\r\n]*$
                                type: string
                            required:
                              - bucket
                            type: object
                          name:
                            maxLength: 63
                            pattern: ^[A-Za-z0-9]([A-Za-z0-9-_.]*[A-Za-z0-9])?$
                            type: string
                          s3:
                            properties:
                              authSecret:
                                properties:
                                  key:
                                    type: string
                                  name:
                                    type: string
                                  volumeName:
                                    type: string
                                required:
                                  - key
                                type: object
                              bucket:
                                minLength: 1
                                type: string
                              endpoint:
                                type: string
                              forcePathStyle:
                                type: boolean
                              keyPrefix:
                                maxLength: 256
                                pattern: ^[^\r\n]*$
                                type: string
                              region:
                                minLength: 1
                                type: string
                            required:
                              - bucket
                              - region
                            type: object
                          volume:
                            x-kubernetes-preserve-unknown-fields: true
                          volumeSubPath:
                            type: string
                        type: object
                      minItems: 1
                      type: array
                    schedules:
                      items:
                        properties:
                          affinity:
                            x-kubernetes-preserve-unknown-fields: true
                          allowedMissedRun:
                            minimum: 0
                            type: integer
                          annotations:
                            additionalProperties:
                              type: string
                            type: object
                          concurrencyPolicy:
                            enum:
                              - Allow
                              - Forbid
                            example: Forbid
                            type: string
                          failedJobsHistoryLimit:
                            format: int32
                            minimum: 0
                            type: integer
                          jobTimeoutMinute:
                            default: 10
                            format: int32
                            minimum: 0
                            type: integer
                          name:
                            example: every-day
                            minLength: 1
                            pattern: ^[A-Za-z0-9]([A-Za-z0-9-]*[A-Za-z0-9])?$
                            type: string
                          resources:
                            properties:
                              claims:
                                items:
                                  properties:
                                    name:
                                      type: string
                                    request:
                                      type: string
                                  required:
                                    - name
                                  type: object
                                type: array
                                x-kubernetes-list-map-keys:
                                  - name
                                x-kubernetes-list-type: map
                              limits:
                                additionalProperties:
                                  anyOf:
                                    - type: integer
                                    - type: string
                                  pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                  x-kubernetes-int-or-string: true
                                type: object
                              requests:
                                additionalProperties:
                                  anyOf:
                                    - type: integer
                                    - type: string
                                  pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                  x-kubernetes-int-or-string: true
                                type: object
                            type: object
                          schedule:
                            example: 0 0 * * *
                            minLength: 0
                            type: string
                          startingDeadlineSeconds:
                            format: int64
                            minimum: 0
                            type: integer
                          strategies:
                            items:
                              properties:
                                extraFlags:
                                  additionalProperties:
                                    type: string
                                  type: object
                                keyspace:
                                  example: commerce
                                  type: string
                                name:
                                  enum:
                                    - BackupShard
                                  type: string
                                shard:
                                  example: '-'
                                  type: string
                              required:
                                - keyspace
                                - name
                                - shard
                              type: object
                            minItems: 1
                            type: array
                          successfulJobsHistoryLimit:
                            format: int32
                            minimum: 0
                            type: integer
                          suspend:
                            type: boolean
                        required:
                          - name
                          - resources
                          - schedule
                          - strategies
                        type: object
                      type: array
                    subcontroller:
                      properties:
                        serviceAccountName:
                          type: string
                      type: object
                  required:
                    - locations
                  type: object
                cells:
                  items:
                    properties:
                      gateway:
                        properties:
                          affinity:
                            x-kubernetes-preserve-unknown-fields: true
                          annotations:
                            additionalProperties:
                              type: string
                            type: object
                          authentication:
                            properties:
                              static:
                                properties:
                                  secret:
                                    properties:
                                      key:
                                        type: string
                                      name:
                                        type: string
                                      volumeName:
                                        type: string
                                    required:
                                      - key
                                    type: object
                                type: object
                            type: object
                          autoscaler:
                            properties:
                              behavior:
                                properties:
                                  scaleDown:
                                    properties:
                                      policies:
                                        items:
                                          properties:
                                            periodSeconds:
                                              format: int32
                                              type: integer
                                            type:
                                              type: string
                                            value:
                                              format: int32
                                              type: integer
                                          required:
                                            - periodSeconds
                                            - type
                                            - value
                                          type: object
                                        type: array
                                        x-kubernetes-list-type: atomic
                                      selectPolicy:
                                        type: string
                                      stabilizationWindowSeconds:
                                        format: int32
                                        type: integer
                                    type: object
                                  scaleUp:
                                    properties:
                                      policies:
                                        items:
                                          properties:
                                            periodSeconds:
                                              format: int32
                                              type: integer
                                            type:
                                              type: string
                                            value:
                                              format: int32
                                              type: integer
                                          required:
                                            - periodSeconds
                                            - type
                                            - value
                                          type: object
                                        type: array
                                        x-kubernetes-list-type: atomic
                                      selectPolicy:
                                        type: string
                                      stabilizationWindowSeconds:
                                        format: int32
                                        type: integer
                                    type: object
                                type: object
                              maxReplicas:
                                format: int32
                                minimum: 0
                                type: integer
                              metrics:
                                items:
                                  properties:
                                    containerResource:
                                      properties:
                                        container:
                                          type: string
                                        name:
                                          type: string
                                        target:
                                          properties:
                                            averageUtilization:
                                              format: int32
                                              type: integer
                                            averageValue:
                                              anyOf:
                                                - type: integer
                                                - type: string
                                              pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                              x-kubernetes-int-or-string: true
                                            type:
                                              type: string
                                            value:
                                              anyOf:
                                                - type: integer
                                                - type: string
                                              pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                              x-kubernetes-int-or-string: true
                                          required:
                                            - type
                                          type: object
                                      required:
                                        - container
                                        - name
                                        - target
                                      type: object
                                    external:
                                      properties:
                                        metric:
                                          properties:
                                            name:
                                              type: string
                                            selector:
                                              properties:
                                                matchExpressions:
                                                  items:
                                                    properties:
                                                      key:
                                                        type: string
                                                      operator:
                                                        type: string
                                                      values:
                                                        items:
                                                          type: string
                                                        type: array
                                                        x-kubernetes-list-type: atomic
                                                    required:
                                                      - key
                                                      - operator
                                                    type: object
                                                  type: array
                                                  x-kubernetes-list-type: atomic
                                                matchLabels:
                                                  additionalProperties:
                                                    type: string
                                                  type: object
                                              type: object
                                              x-kubernetes-map-type: atomic
                                          required:
                                            - name
                                          type: object
                                        target:
                                          properties:
                                            averageUtilization:
                                              format: int32
                                              type: integer
                                            averageValue:
                                              anyOf:
                                                - type: integer
                                                - type: string
                                              pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                              x-kubernetes-int-or-string: true
                                            type:
                                              type: string
                                            value:
                                              anyOf:
                                                - type: integer
                                                - type: string
                                              pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                              x-kubernetes-int-or-string: true
                                          required:
                                            - type
                                          type: object
                                      required:
                                        - metric
                                        - target
                                      type: object
                                    object:
                                      properties:
                                        describedObject:
                                          properties:
                                            apiVersion:
                                              type: string
                                            kind:
                                              type: string
                                            name:
                                              type: string
                                          required:
                                            - kind
                                            - name
                                          type: object
                                        metric:
                                          properties:
                                            name:
                                              type: string
                                            selector:
                                              properties:
                                                matchExpressions:
                                                  items:
                                                    properties:
                                                      key:
                                                        type: string
                                                      operator:
                                                        type: string
                                                      values:
                                                        items:
                                                          type: string
                                                        type: array
                                                        x-kubernetes-list-type: atomic
                                                    required:
                                                      - key
                                                      - operator
                                                    type: object
                                                  type: array
                                                  x-kubernetes-list-type: atomic
                                                matchLabels:
                                                  additionalProperties:
                                                    type: string
                                                  type: object
                                              type: object
                                              x-kubernetes-map-type: atomic
                                          required:
                                            - name
                                          type: object
                                        target:
                                          properties:
                                            averageUtilization:
                                              format: int32
                                              type: integer
                                            averageValue:
                                              anyOf:
                                                - type: integer
                                                - type: string
                                              pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                              x-kubernetes-int-or-string: true
                                            type:
                                              type: string
                                            value:
                                              anyOf:
                                                - type: integer
                                                - type: string
                                              pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                              x-kubernetes-int-or-string: true
                                          required:
                                            - type
                                          type: object
                                      required:
                                        - describedObject
                                        - metric
                                        - target
                                      type: object
                                    pods:
                                      properties:
                                        metric:
                                          properties:
                                            name:
                                              type: string
                                            selector:
                                              properties:
                                                matchExpressions:
                                                  items:
                                                    properties:
                                                      key:
                                                        type: string
                                                      operator:
                                                        type: string
                                                      values:
                                                        items:
                                                          type: string
                                                        type: array
                                                        x-kubernetes-list-type: atomic
                                                    required:
                                                      - key
                                                      - operator
                                                    type: object
                                                  type: array
                                                  x-kubernetes-list-type: atomic
                                                matchLabels:
                                                  additionalProperties:
                                                    type: string
                                                  type: object
                                              type: object
                                              x-kubernetes-map-type: atomic
                                          required:
                                            - name
                                          type: object
                                        target:
                                          properties:
                                            averageUtilization:
                                              format: int32
                                              type: integer
                                            averageValue:
                                              anyOf:
                                                - type: integer
                                                - type: string
                                              pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                              x-kubernetes-int-or-string: true
                                            type:
                                              type: string
                                            value:
                                              anyOf:
                                                - type: integer
                                                - type: string
                                              pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                              x-kubernetes-int-or-string: true
                                          required:
                                            - type
                                          type: object
                                      required:
                                        - metric
                                        - target
                                      type: object
                                    resource:
                                      properties:
                                        name:
                                          type: string
                                        target:
                                          properties:
                                            averageUtilization:
                                              format: int32
                                              type: integer
                                            averageValue:
                                              anyOf:
                                                - type: integer
                                                - type: string
                                              pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                              x-kubernetes-int-or-string: true
                                            type:
                                              type: string
                                            value:
                                              anyOf:
                                                - type: integer
                                                - type: string
                                              pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                              x-kubernetes-int-or-string: true
                                          required:
                                            - type
                                          type: object
                                      required:
                                        - name
                                        - target
                                      type: object
                                    type:
                                      type: string
                                  required:
                                    - type
                                  type: object
                                type: array
                                x-kubernetes-list-type: atomic
                              minReplicas:
                                format: int32
                                minimum: 0
                                type: integer
                            type: object
                          extraEnv:
                            items:
                              properties:
                                name:
                                  type: string
                                value:
                                  type: string
                                valueFrom:
                                  properties:
                                    configMapKeyRef:
                                      properties:
                                        key:
                                          type: string
                                        name:
                                          default: ""
                                          type: string
                                        optional:
                                          type: boolean
                                      required:
                                        - key
                                      type: object
                                      x-kubernetes-map-type: atomic
                                    fieldRef:
                                      properties:
                                        apiVersion:
                                          type: string
                                        fieldPath:
                                          type: string
                                      required:
                                        - fieldPath
                                      type: object
                                      x-kubernetes-map-type: atomic
                                    resourceFieldRef:
                                      properties:
                                        containerName:
                                          type: string
                                        divisor:
                                          anyOf:
                                            - type: integer
                                            - type: string
                                          pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                          x-kubernetes-int-or-string: true
                                        resource:
                                          type: string
                                      required:
                                        - resource
                                      type: object
                                      x-kubernetes-map-type: atomic
                                    secretKeyRef:
                                      properties:
                                        key:
                                          type: string
                                        name:
                                          default: ""
                                          type: string
                                        optional:
                                          type: boolean
                                      required:
                                        - key
                                      type: object
                                      x-kubernetes-map-type: atomic
                                  type: object
                              required:
                                - name
                              type: object
                            type: array
                          extraFlags:
                            additionalProperties:
                              type: string
                            type: object
                          extraLabels:
                            additionalProperties:
                              type: string
                            type: object
                          extraVolumeMounts:
                            items:
                              properties:
                                mountPath:
                                  type: string
                                mountPropagation:
                                  type: string
                                name:
                                  type: string
                                readOnly:
                                  type: boolean
                                recursiveReadOnly:
                                  type: string
                                subPath:
                                  type: string
                                subPathExpr:
                                  type: string
                              required:
                                - mountPath
                                - name
                              type: object
                            type: array
                          extraVolumes:
                            x-kubernetes-preserve-unknown-fields: true
                          initContainers:
                            x-kubernetes-preserve-unknown-fields: true
                          lifecycle:
                            properties:
                              postStart:
                                properties:
                                  exec:
                                    properties:
                                      command:
                                        items:
                                          type: string
                                        type: array
                                        x-kubernetes-list-type: atomic
                                    type: object
                                  httpGet:
                                    properties:
                                      host:
                                        type: string
                                      httpHeaders:
                                        items:
                                          properties:
                                            name:
                                              type: string
                                            value:
                                              type: string
                                          required:
                                            - name
                                            - value
                                          type: object
                                        type: array
                                        x-kubernetes-list-type: atomic
                                      path:
                                        type: string
                                      port:
                                        anyOf:
                                          - type: integer
                                          - type: string
                                        x-kubernetes-int-or-string: true
                                      scheme:
                                        type: string
                                    required:
                                      - port
                                    type: object
                                  sleep:
                                    properties:
                                      seconds:
                                        format: int64
                                        type: integer
                                    required:
                                      - seconds
                                    type: object
                                  tcpSocket:
                                    properties:
                                      host:
                                        type: string
                                      port:
                                        anyOf:
                                          - type: integer
                                          - type: string
                                        x-kubernetes-int-or-string: true
                                    required:
                                      - port
                                    type: object
                                type: object
                              preStop:
                                properties:
                                  exec:
                                    properties:
                                      command:
                                        items:
                                          type: string
                                        type: array
                                        x-kubernetes-list-type: atomic
                                    type: object
                                  httpGet:
                                    properties:
                                      host:
                                        type: string
                                      httpHeaders:
                                        items:
                                          properties:
                                            name:
                                              type: string
                                            value:
                                              type: string
                                          required:
                                            - name
                                            - value
                                          type: object
                                        type: array
                                        x-kubernetes-list-type: atomic
                                      path:
                                        type: string
                                      port:
                                        anyOf:
                                          - type: integer
                                          - type: string
                                        x-kubernetes-int-or-string: true
                                      scheme:
                                        type: string
                                    required:
                                      - port
                                    type: object
                                  sleep:
                                    properties:
                                      seconds:
                                        format: int64
                                        type: integer
                                    required:
                                      - seconds
                                    type: object
                                  tcpSocket:
                                    properties:
                                      host:
                                        type: string
                                      port:
                                        anyOf:
                                          - type: integer
                                          - type: string
                                        x-kubernetes-int-or-string: true
                                    required:
                                      - port
                                    type: object
                                type: object
                            type: object
                          replicas:
                            format: int32
                            minimum: 0
                            type: integer
                          resources:
                            properties:
                              claims:
                                items:
                                  properties:
                                    name:
                                      type: string
                                    request:
                                      type: string
                                  required:
                                    - name
                                  type: object
                                type: array
                                x-kubernetes-list-map-keys:
                                  - name
                                x-kubernetes-list-type: map
                              limits:
                                additionalProperties:
                                  anyOf:
                                    - type: integer
                                    - type: string
                                  pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                  x-kubernetes-int-or-string: true
                                type: object
                              requests:
                                additionalProperties:
                                  anyOf:
                                    - type: integer
                                    - type: string
                                  pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                  x-kubernetes-int-or-string: true
                                type: object
                            type: object
                          secureTransport:
                            properties:
                              required:
                                type: boolean
                              tls:
                                properties:
                                  certSecret:
                                    properties:
                                      key:
                                        type: string
                                      name:
                                        type: string
                                      volumeName:
                                        type: string
                                    required:
                                      - key
                                    type: object
                                  clientCACertSecret:
                                    properties:
                                      key:
                                        type: string
                                      name:
                                        type: string
                                      volumeName:
                                        type: string
                                    required:
                                      - key
                                    type: object
                                  keySecret:
                                    properties:
                                      key:
                                        type: string
                                      name:
                                        type: string
                                      volumeName:
                                        type: string
                                    required:
                                      - key
                                    type: object
                                type: object
                            type: object
                          service:
                            properties:
                              annotations:
                                additionalProperties:
                                  type: string
                                type: object
                              clusterIP:
                                type: string
                            type: object
                          sidecarContainers:
                            x-kubernetes-preserve-unknown-fields: true
                          terminationGracePeriodSeconds:
                            format: int64
                            type: integer
                          tolerations:
                            x-kubernetes-preserve-unknown-fields: true
                          topologySpreadConstraints:
                            x-kubernetes-preserve-unknown-fields: true
                        type: object
                      lockserver:
                        properties:
                          cellInfoAddress:
                            type: string
                          etcd:
                            properties:
                              advertisePeerURLs:
                                items:
                                  type: string
                                maxItems: 3
                                minItems: 3
                                type: array
                              affinity:
                                x-kubernetes-preserve-unknown-fields: true
                              annotations:
                                additionalProperties:
                                  type: string
                                type: object
                              clientService:
                                properties:
                                  annotations:
                                    additionalProperties:
                                      type: string
                                    type: object
                                  clusterIP:
                                    type: string
                                type: object
                              createClientService:
                                type: boolean
                              createPDB:
                                type: boolean
                              createPeerService:
                                type: boolean
                              dataVolumeClaimTemplate:
                                properties:
                                  accessModes:
                                    items:
                                      type: string
                                    type: array
                                    x-kubernetes-list-type: atomic
                                  dataSource:
                                    properties:
                                      apiGroup:
                                        type: string
                                      kind:
                                        type: string
                                      name:
                                        type: string
                                    required:
                                      - kind
                                      - name
                                    type: object
                                    x-kubernetes-map-type: atomic
                                  dataSourceRef:
                                    properties:
                                      apiGroup:
                                        type: string
                                      kind:
                                        type: string
                                      name:
                                        type: string
                                      namespace:
                                        type: string
                                    required:
                                      - kind
                                      - name
                                    type: object
                                  resources:
                                    properties:
                                      limits:
                                        additionalProperties:
                                          anyOf:
                                            - type: integer
                                            - type: string
                                          pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                          x-kubernetes-int-or-string: true
                                        type: object
                                      requests:
                                        additionalProperties:
                                          anyOf:
                                            - type: integer
                                            - type: string
                                          pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                          x-kubernetes-int-or-string: true
                                        type: object
                                    type: object
                                  selector:
                                    properties:
                                      matchExpressions:
                                        items:
                                          properties:
                                            key:
                                              type: string
                                            operator:
                                              type: string
                                            values:
                                              items:
                                                type: string
                                              type: array
                                              x-kubernetes-list-type: atomic
                                          required:
                                            - key
                                            - operator
                                          type: object
                                        type: array
                                        x-kubernetes-list-type: atomic
                                      matchLabels:
                                        additionalProperties:
                                          type: string
                                        type: object
                                    type: object
                                    x-kubernetes-map-type: atomic
                                  storageClassName:
                                    type: string
                                  volumeAttributesClassName:
                                    type: string
                                  volumeMode:
                                    type: string
                                  volumeName:
                                    type: string
                                type: object
                              extraEnv:
                                items:
                                  properties:
                                    name:
                                      type: string
                                    value:
                                      type: string
                                    valueFrom:
                                      properties:
                                        configMapKeyRef:
                                          properties:
                                            key:
                                              type: string
                                            name:
                                              default: ""
                                              type: string
                                            optional:
                                              type: boolean
                                          required:
                                            - key
                                          type: object
                                          x-kubernetes-map-type: atomic
                                        fieldRef:
                                          properties:
                                            apiVersion:
                                              type: string
                                            fieldPath:
                                              type: string
                                          required:
                                            - fieldPath
                                          type: object
                                          x-kubernetes-map-type: atomic
                                        resourceFieldRef:
                                          properties:
                                            containerName:
                                              type: string
                                            divisor:
                                              anyOf:
                                                - type: integer
                                                - type: string
                                              pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                              x-kubernetes-int-or-string: true
                                            resource:
                                              type: string
                                          required:
                                            - resource
                                          type: object
                                          x-kubernetes-map-type: atomic
                                        secretKeyRef:
                                          properties:
                                            key:
                                              type: string
                                            name:
                                              default: ""
                                              type: string
                                            optional:
                                              type: boolean
                                          required:
                                            - key
                                          type: object
                                          x-kubernetes-map-type: atomic
                                      type: object
                                  required:
                                    - name
                                  type: object
                                type: array
                              extraFlags:
                                additionalProperties:
                                  type: string
                                type: object
                              extraLabels:
                                additionalProperties:
                                  type: string
                                type: object
                              extraVolumeMounts:
                                items:
                                  properties:
                                    mountPath:
                                      type: string
                                    mountPropagation:
                                      type: string
                                    name:
                                      type: string
                                    readOnly:
                                      type: boolean
                                    recursiveReadOnly:
                                      type: string
                                    subPath:
                                      type: string
                                    subPathExpr:
                                      type: string
                                  required:
                                    - mountPath
                                    - name
                                  type: object
                                type: array
                              extraVolumes:
                                x-kubernetes-preserve-unknown-fields: true
                              image:
                                type: string
                              imagePullPolicy:
                                type: string
                              imagePullSecrets:
                                items:
                                  properties:
                                    name:
                                      default: ""
                                      type: string
                                  type: object
                                  x-kubernetes-map-type: atomic
                                type: array
                              initContainers:
                                x-kubernetes-preserve-unknown-fields: true
                              localMemberIndex:
                                format: int32
                                maximum: 3
                                minimum: 1
                                type: integer
                              peerService:
                                properties:
                                  annotations:
                                    additionalProperties:
                                      type: string
                                    type: object
                                  clusterIP:
                                    type: string
                                type: object
                              resources:
                                properties:
                                  claims:
                                    items:
                                      properties:
                                        name:
                                          type: string
                                        request:
                                          type: string
                                      required:
                                        - name
                                      type: object
                                    type: array
                                    x-kubernetes-list-map-keys:
                                      - name
                                    x-kubernetes-list-type: map
                                  limits:
                                    additionalProperties:
                                      anyOf:
                                        - type: integer
                                        - type: string
                                      pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                      x-kubernetes-int-or-string: true
                                    type: object
                                  requests:
                                    additionalProperties:
                                      anyOf:
                                        - type: integer
                                        - type: string
                                      pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                      x-kubernetes-int-or-string: true
                                    type: object
                                type: object
                              sidecarContainers:
                                x-kubernetes-preserve-unknown-fields: true
                              tolerations:
                                x-kubernetes-preserve-unknown-fields: true
                            type: object
                          external:
                            properties:
                              address:
                                type: string
                              implementation:
                                type: string
                              rootPath:
                                type: string
                            required:
                              - address
                              - implementation
                              - rootPath
                            type: object
                        type: object
                      name:
                        maxLength: 63
                        minLength: 1
                        pattern: ^[A-Za-z0-9]([_.A-Za-z0-9]*[A-Za-z0-9])?$
                        type: string
                      zone:
                        type: string
                    required:
                      - name
                    type: object
                  type: array
                extraVitessFlags:
                  additionalProperties:
                    type: string
                  type: object
                gatewayService:
                  properties:
                    annotations:
                      additionalProperties:
                        type: string
                      type: object
                    clusterIP:
                      type: string
                  type: object
                globalLockserver:
                  properties:
                    cellInfoAddress:
                      type: string
                    etcd:
                      properties:
                        advertisePeerURLs:
                          items:
                            type: string
                          maxItems: 3
                          minItems: 3
                          type: array
                        affinity:
                          x-kubernetes-preserve-unknown-fields: true
                        annotations:
                          additionalProperties:
                            type: string
                          type: object
                        clientService:
                          properties:
                            annotations:
                              additionalProperties:
                                type: string
                              type: object
                            clusterIP:
                              type: string
                          type: object
                        createClientService:
                          type: boolean
                        createPDB:
                          type: boolean
                        createPeerService:
                          type: boolean
                        dataVolumeClaimTemplate:
                          properties:
                            accessModes:
                              items:
                                type: string
                              type: array
                              x-kubernetes-list-type: atomic
                            dataSource:
                              properties:
                                apiGroup:
                                  type: string
                                kind:
                                  type: string
                                name:
                                  type: string
                              required:
                                - kind
                                - name
                              type: object
                              x-kubernetes-map-type: atomic
                            dataSourceRef:
                              properties:
                                apiGroup:
                                  type: string
                                kind:
                                  type: string
                                name:
                                  type: string
                                namespace:
                                  type: string
                              required:
                                - kind
                                - name
                              type: object
                            resources:
                              properties:
                                limits:
                                  additionalProperties:
                                    anyOf:
                                      - type: integer
                                      - type: string
                                    pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                    x-kubernetes-int-or-string: true
                                  type: object
                                requests:
                                  additionalProperties:
                                    anyOf:
                                      - type: integer
                                      - type: string
                                    pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                    x-kubernetes-int-or-string: true
                                  type: object
                              type: object
                            selector:
                              properties:
                                matchExpressions:
                                  items:
                                    properties:
                                      key:
                                        type: string
                                      operator:
                                        type: string
                                      values:
                                        items:
                                          type: string
                                        type: array
                                        x-kubernetes-list-type: atomic
                                    required:
                                      - key
                                      - operator
                                    type: object
                                  type: array
                                  x-kubernetes-list-type: atomic
                                matchLabels:
                                  additionalProperties:
                                    type: string
                                  type: object
                              type: object
                              x-kubernetes-map-type: atomic
                            storageClassName:
                              type: string
                            volumeAttributesClassName:
                              type: string
                            volumeMode:
                              type: string
                            volumeName:
                              type: string
                          type: object
                        extraEnv:
                          items:
                            properties:
                              name:
                                type: string
                              value:
                                type: string
                              valueFrom:
                                properties:
                                  configMapKeyRef:
                                    properties:
                                      key:
                                        type: string
                                      name:
                                        default: ""
                                        type: string
                                      optional:
                                        type: boolean
                                    required:
                                      - key
                                    type: object
                                    x-kubernetes-map-type: atomic
                                  fieldRef:
                                    properties:
                                      apiVersion:
                                        type: string
                                      fieldPath:
                                        type: string
                                    required:
                                      - fieldPath
                                    type: object
                                    x-kubernetes-map-type: atomic
                                  resourceFieldRef:
                                    properties:
                                      containerName:
                                        type: string
                                      divisor:
                                        anyOf:
                                          - type: integer
                                          - type: string
                                        pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                        x-kubernetes-int-or-string: true
                                      resource:
                                        type: string
                                    required:
                                      - resource
                                    type: object
                                    x-kubernetes-map-type: atomic
                                  secretKeyRef:
                                    properties:
                                      key:
                                        type: string
                                      name:
                                        default: ""
                                        type: string
                                      optional:
                                        type: boolean
                                    required:
                                      - key
                                    type: object
                                    x-kubernetes-map-type: atomic
                                type: object
                            required:
                              - name
                            type: object
                          type: array
                        extraFlags:
                          additionalProperties:
                            type: string
                          type: object
                        extraLabels:
                          additionalProperties:
                            type: string
                          type: object
                        extraVolumeMounts:
                          items:
                            properties:
                              mountPath:
                                type: string
                              mountPropagation:
                                type: string
                              name:
                                type: string
                              readOnly:
                                type: boolean
                              recursiveReadOnly:
                                type: string
                              subPath:
                                type: string
                              subPathExpr:
                                type: string
                            required:
                              - mountPath
                              - name
                            type: object
                          type: array
                        extraVolumes:
                          x-kubernetes-preserve-unknown-fields: true
                        image:
                          type: string
                        imagePullPolicy:
                          type: string
                        imagePullSecrets:
                          items:
                            properties:
                              name:
                                default: ""
                                type: string
                            type: object
                            x-kubernetes-map-type: atomic
                          type: array
                        initContainers:
                          x-kubernetes-preserve-unknown-fields: true
                        localMemberIndex:
                          format: int32
                          maximum: 3
                          minimum: 1
                          type: integer
                        peerService:
                          properties:
                            annotations:
                              additionalProperties:
                                type: string
                              type: object
                            clusterIP:
                              type: string
                          type: object
                        resources:
                          properties:
                            claims:
                              items:
                                properties:
                                  name:
                                    type: string
                                  request:
                                    type: string
                                required:
                                  - name
                                type: object
                              type: array
                              x-kubernetes-list-map-keys:
                                - name
                              x-kubernetes-list-type: map
                            limits:
                              additionalProperties:
                                anyOf:
                                  - type: integer
                                  - type: string
                                pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                x-kubernetes-int-or-string: true
                              type: object
                            requests:
                              additionalProperties:
                                anyOf:
                                  - type: integer
                                  - type: string
                                pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                x-kubernetes-int-or-string: true
                              type: object
                          type: object
                        sidecarContainers:
                          x-kubernetes-preserve-unknown-fields: true
                        tolerations:
                          x-kubernetes-preserve-unknown-fields: true
                      type: object
                    external:
                      properties:
                        address:
                          type: string
                        implementation:
                          type: string
                        rootPath:
                          type: string
                      required:
                        - address
                        - implementation
                        - rootPath
                      type: object
                  type: object
                imagePullPolicies:
                  properties:
                    mysqld:
                      type: string
                    mysqldExporter:
                      type: string
                    vtadmin:
                      type: string
                    vtbackup:
                      type: string
                    vtctld:
                      type: string
                    vtgate:
                      type: string
                    vtorc:
                      type: string
                    vttablet:
                      type: string
                  type: object
                imagePullSecrets:
                  items:
                    properties:
                      name:
                        default: ""
                        type: string
                    type: object
                    x-kubernetes-map-type: atomic
                  type: array
                images:
                  properties:
                    mysqld:
                      properties:
                        mariadb103Compatible:
                          type: string
                        mariadbCompatible:
                          type: string
                        mysql56Compatible:
                          type: string
                        mysql80Compatible:
                          type: string
                      type: object
                    mysqldExporter:
                      type: string
                    vtadmin:
                      type: string
                    vtbackup:
                      type: string
                    vtctld:
                      type: string
                    vtgate:
                      type: string
                    vtorc:
                      type: string
                    vttablet:
                      type: string
                  type: object
                keyspaces:
                  items:
                    properties:
                      annotations:
                        additionalProperties:
                          type: string
                        type: object
                      databaseName:
                        type: string
                      durabilityPolicy:
                        type: string
                      images:
                        properties:
                          mysqld:
                            properties:
                              mysql56Compatible:
                                type: string
                              mysql80Compatible:
                                type: string
                            type: object
                        type: object
                      name:
                        maxLength: 63
                        minLength: 1
                        pattern: ^[A-Za-z0-9]([A-Za-z0-9-_.]*[A-Za-z0-9])?$
                        type: string
                      partitionings:
                        items:
                          properties:
                            custom:
                              properties:
                                shards:
                                  items:
                                    properties:
                                      annotations:
                                        additionalProperties:
                                          type: string
                                        type: object
                                      databaseInitScriptSecret:
                                        properties:
                                          key:
                                            type: string
                                          name:
                                            type: string
                                          volumeName:
                                            type: string
                                        required:
                                          - key
                                        type: object
                                      keyRange:
                                        properties:
                                          end:
                                            pattern: ^([0-9a-f][0-9a-f])*$
                                            type: string
                                          start:
                                            pattern: ^([0-9a-f][0-9a-f])*$
                                            type: string
                                        type: object
                                      replication:
                                        properties:
                                          initializeBackup:
                                            type: boolean
                                          initializeMaster:
                                            type: boolean
                                          recoverRestartedMaster:
                                            type: boolean
                                        type: object
                                      tabletPools:
                                        items:
                                          properties:
                                            affinity:
                                              x-kubernetes-preserve-unknown-fields: true
                                            annotations:
                                              additionalProperties:
                                                type: string
                                              type: object
                                            backupLocationName:
                                              type: string
                                            cell:
                                              maxLength: 63
                                              minLength: 1
                                              pattern: ^[A-Za-z0-9]([_.A-Za-z0-9]*[A-Za-z0-9])?$
                                              type: string
                                            dataVolumeClaimTemplate:
                                              properties:
                                                accessModes:
                                                  items:
                                                    type: string
                                                  type: array
                                                  x-kubernetes-list-type: atomic
                                                dataSource:
                                                  properties:
                                                    apiGroup:
                                                      type: string
                                                    kind:
                                                      type: string
                                                    name:
                                                      type: string
                                                  required:
                                                    - kind
                                                    - name
                                                  type: object
                                                  x-kubernetes-map-type: atomic
                                                dataSourceRef:
                                                  properties:
                                                    apiGroup:
                                                      type: string
                                                    kind:
                                                      type: string
                                                    name:
                                                      type: string
                                                    namespace:
                                                      type: string
                                                  required:
                                                    - kind
                                                    - name
                                                  type: object
                                                resources:
                                                  properties:
                                                    limits:
                                                      additionalProperties:
                                                        anyOf:
                                                          - type: integer
                                                          - type: string
                                                        pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                                        x-kubernetes-int-or-string: true
                                                      type: object
                                                    requests:
                                                      additionalProperties:
                                                        anyOf:
                                                          - type: integer
                                                          - type: string
                                                        pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                                        x-kubernetes-int-or-string: true
                                                      type: object
                                                  type: object
                                                selector:
                                                  properties:
                                                    matchExpressions:
                                                      items:
                                                        properties:
                                                          key:
                                                            type: string
                                                          operator:
                                                            type: string
                                                          values:
                                                            items:
                                                              type: string
                                                            type: array
                                                            x-kubernetes-list-type: atomic
                                                        required:
                                                          - key
                                                          - operator
                                                        type: object
                                                      type: array
                                                      x-kubernetes-list-type: atomic
                                                    matchLabels:
                                                      additionalProperties:
                                                        type: string
                                                      type: object
                                                  type: object
                                                  x-kubernetes-map-type: atomic
                                                storageClassName:
                                                  type: string
                                                volumeAttributesClassName:
                                                  type: string
                                                volumeMode:
                                                  type: string
                                                volumeName:
                                                  type: string
                                              type: object
                                            externalDatastore:
                                              properties:
                                                credentialsSecret:
                                                  properties:
                                                    key:
                                                      type: string
                                                    name:
                                                      type: string
                                                    volumeName:
                                                      type: string
                                                  required:
                                                    - key
                                                  type: object
                                                database:
                                                  type: string
                                                host:
                                                  type: string
                                                port:
                                                  format: int32
                                                  maximum: 65535
                                                  minimum: 1
                                                  type: integer
                                                serverCACertSecret:
                                                  properties:
                                                    key:
                                                      type: string
                                                    name:
                                                      type: string
                                                    volumeName:
                                                      type: string
                                                  required:
                                                    - key
                                                  type: object
                                                user:
                                                  type: string
                                              required:
                                                - credentialsSecret
                                                - database
                                                - host
                                                - port
                                                - user
                                              type: object
                                            extraEnv:
                                              items:
                                                properties:
                                                  name:
                                                    type: string
                                                  value:
                                                    type: string
                                                  valueFrom:
                                                    properties:
                                                      configMapKeyRef:
                                                        properties:
                                                          key:
                                                            type: string
                                                          name:
                                                            default: ""
                                                            type: string
                                                          optional:
                                                            type: boolean
                                                        required:
                                                          - key
                                                        type: object
                                                        x-kubernetes-map-type: atomic
                                                      fieldRef:
                                                        properties:
                                                          apiVersion:
                                                            type: string
                                                          fieldPath:
                                                            type: string
                                                        required:
                                                          - fieldPath
                                                        type: object
                                                        x-kubernetes-map-type: atomic
                                                      resourceFieldRef:
                                                        properties:
                                                          containerName:
                                                            type: string
                                                          divisor:
                                                            anyOf:
                                                              - type: integer
                                                              - type: string
                                                            pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                                            x-kubernetes-int-or-string: true
                                                          resource:
                                                            type: string
                                                        required:
                                                          - resource
                                                        type: object
                                                        x-kubernetes-map-type: atomic
                                                      secretKeyRef:
                                                        properties:
                                                          key:
                                                            type: string
                                                          name:
                                                            default: ""
                                                            type: string
                                                          optional:
                                                            type: boolean
                                                        required:
                                                          - key
                                                        type: object
                                                        x-kubernetes-map-type: atomic
                                                    type: object
                                                required:
                                                  - name
                                                type: object
                                              type: array
                                            extraLabels:
                                              additionalProperties:
                                                type: string
                                              type: object
                                            extraVolumeMounts:
                                              items:
                                                properties:
                                                  mountPath:
                                                    type: string
                                                  mountPropagation:
                                                    type: string
                                                  name:
                                                    type: string
                                                  readOnly:
                                                    type: boolean
                                                  recursiveReadOnly:
                                                    type: string
                                                  subPath:
                                                    type: string
                                                  subPathExpr:
                                                    type: string
                                                required:
                                                  - mountPath
                                                  - name
                                                type: object
                                              type: array
                                            extraVolumes:
                                              x-kubernetes-preserve-unknown-fields: true
                                            initContainers:
                                              x-kubernetes-preserve-unknown-fields: true
                                            mysqld:
                                              properties:
                                                configOverrides:
                                                  type: string
                                                resources:
                                                  properties:
                                                    claims:
                                                      items:
                                                        properties:
                                                          name:
                                                            type: string
                                                          request:
                                                            type: string
                                                        required:
                                                          - name
                                                        type: object
                                                      type: array
                                                      x-kubernetes-list-map-keys:
                                                        - name
                                                      x-kubernetes-list-type: map
                                                    limits:
                                                      additionalProperties:
                                                        anyOf:
                                                          - type: integer
                                                          - type: string
                                                        pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                                        x-kubernetes-int-or-string: true
                                                      type: object
                                                    requests:
                                                      additionalProperties:
                                                        anyOf:
                                                          - type: integer
                                                          - type: string
                                                        pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                                        x-kubernetes-int-or-string: true
                                                      type: object
                                                  type: object
                                              required:
                                                - resources
                                              type: object
                                            mysqldExporter:
                                              properties:
                                                resources:
                                                  properties:
                                                    claims:
                                                      items:
                                                        properties:
                                                          name:
                                                            type: string
                                                          request:
                                                            type: string
                                                        required:
                                                          - name
                                                        type: object
                                                      type: array
                                                      x-kubernetes-list-map-keys:
                                                        - name
                                                      x-kubernetes-list-type: map
                                                    limits:
                                                      additionalProperties:
                                                        anyOf:
                                                          - type: integer
                                                          - type: string
                                                        pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                                        x-kubernetes-int-or-string: true
                                                      type: object
                                                    requests:
                                                      additionalProperties:
                                                        anyOf:
                                                          - type: integer
                                                          - type: string
                                                        pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                                        x-kubernetes-int-or-string: true
                                                      type: object
                                                  type: object
                                              required:
                                                - resources
                                              type: object
                                            name:
                                              default: ""
                                              type: string
                                            replicas:
                                              format: int32
                                              minimum: 0
                                              type: integer
                                            sidecarContainers:
                                              x-kubernetes-preserve-unknown-fields: true
                                            tolerations:
                                              x-kubernetes-preserve-unknown-fields: true
                                            topologySpreadConstraints:
                                              x-kubernetes-preserve-unknown-fields: true
                                            type:
                                              enum:
                                                - replica
                                                - rdonly
                                                - externalmaster
                                                - externalreplica
                                                - externalrdonly
                                              type: string
                                            vttablet:
                                              properties:
                                                extraFlags:
                                                  additionalProperties:
                                                    type: string
                                                  type: object
                                                lifecycle:
                                                  x-kubernetes-preserve-unknown-fields: true
                                                resources:
                                                  properties:
                                                    claims:
                                                      items:
                                                        properties:
                                                          name:
                                                            type: string
                                                          request:
                                                            type: string
                                                        required:
                                                          - name
                                                        type: object
                                                      type: array
                                                      x-kubernetes-list-map-keys:
                                                        - name
                                                      x-kubernetes-list-type: map
                                                    limits:
                                                      additionalProperties:
                                                        anyOf:
                                                          - type: integer
                                                          - type: string
                                                        pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                                        x-kubernetes-int-or-string: true
                                                      type: object
                                                    requests:
                                                      additionalProperties:
                                                        anyOf:
                                                          - type: integer
                                                          - type: string
                                                        pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                                        x-kubernetes-int-or-string: true
                                                      type: object
                                                  type: object
                                                terminationGracePeriodSeconds:
                                                  format: int64
                                                  type: integer
                                              required:
                                                - resources
                                              type: object
                                          required:
                                            - cell
                                            - replicas
                                            - type
                                            - vttablet
                                          type: object
                                        type: array
                                        x-kubernetes-list-map-keys:
                                          - type
                                          - cell
                                          - name
                                        x-kubernetes-list-type: map
                                    required:
                                      - databaseInitScriptSecret
                                      - keyRange
                                    type: object
                                  type: array
                              required:
                                - shards
                              type: object
                            equal:
                              properties:
                                parts:
                                  format: int32
                                  maximum: 65536
                                  minimum: 1
                                  type: integer
                                shardTemplate:
                                  properties:
                                    annotations:
                                      additionalProperties:
                                        type: string
                                      type: object
                                    databaseInitScriptSecret:
                                      properties:
                                        key:
                                          type: string
                                        name:
                                          type: string
                                        volumeName:
                                          type: string
                                      required:
                                        - key
                                      type: object
                                    replication:
                                      properties:
                                        initializeBackup:
                                          type: boolean
                                        initializeMaster:
                                          type: boolean
                                        recoverRestartedMaster:
                                          type: boolean
                                      type: object
                                    tabletPools:
                                      items:
                                        properties:
                                          affinity:
                                            x-kubernetes-preserve-unknown-fields: true
                                          annotations:
                                            additionalProperties:
                                              type: string
                                            type: object
                                          backupLocationName:
                                            type: string
                                          cell:
                                            maxLength: 63
                                            minLength: 1
                                            pattern: ^[A-Za-z0-9]([_.A-Za-z0-9]*[A-Za-z0-9])?$
                                            type: string
                                          dataVolumeClaimTemplate:
                                            properties:
                                              accessModes:
                                                items:
                                                  type: string
                                                type: array
                                                x-kubernetes-list-type: atomic
                                              dataSource:
                                                properties:
                                                  apiGroup:
                                                    type: string
                                                  kind:
                                                    type: string
                                                  name:
                                                    type: string
                                                required:
                                                  - kind
                                                  - name
                                                type: object
                                                x-kubernetes-map-type: atomic
                                              dataSourceRef:
                                                properties:
                                                  apiGroup:
                                                    type: string
                                                  kind:
                                                    type: string
                                                  name:
                                                    type: string
                                                  namespace:
                                                    type: string
                                                required:
                                                  - kind
                                                  - name
                                                type: object
                                              resources:
                                                properties:
                                                  limits:
                                                    additionalProperties:
                                                      anyOf:
                                                        - type: integer
                                                        - type: string
                                                      pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                                      x-kubernetes-int-or-string: true
                                                    type: object
                                                  requests:
                                                    additionalProperties:
                                                      anyOf:
                                                        - type: integer
                                                        - type: string
                                                      pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                                      x-kubernetes-int-or-string: true
                                                    type: object
                                                type: object
                                              selector:
                                                properties:
                                                  matchExpressions:
                                                    items:
                                                      properties:
                                                        key:
                                                          type: string
                                                        operator:
                                                          type: string
                                                        values:
                                                          items:
                                                            type: string
                                                          type: array
                                                          x-kubernetes-list-type: atomic
                                                      required:
                                                        - key
                                                        - operator
                                                      type: object
                                                    type: array
                                                    x-kubernetes-list-type: atomic
                                                  matchLabels:
                                                    additionalProperties:
                                                      type: string
                                                    type: object
                                                type: object
                                                x-kubernetes-map-type: atomic
                                              storageClassName:
                                                type: string
                                              volumeAttributesClassName:
                                                type: string
                                              volumeMode:
                                                type: string
                                              volumeName:
                                                type: string
                                            type: object
                                          externalDatastore:
                                            properties:
                                              credentialsSecret:
                                                properties:
                                                  key:
                                                    type: string
                                                  name:
                                                    type: string
                                                  volumeName:
                                                    type: string
                                                required:
                                                  - key
                                                type: object
                                              database:
                                                type: string
                                              host:
                                                type: string
                                              port:
                                                format: int32
                                                maximum: 65535
                                                minimum: 1
                                                type: integer
                                              serverCACertSecret:
                                                properties:
                                                  key:
                                                    type: string
                                                  name:
                                                    type: string
                                                  volumeName:
                                                    type: string
                                                required:
                                                  - key
                                                type: object
                                              user:
                                                type: string
                                            required:
                                              - credentialsSecret
                                              - database
                                              - host
                                              - port
                                              - user
                                            type: object
                                          extraEnv:
                                            items:
                                              properties:
                                                name:
                                                  type: string
                                                value:
                                                  type: string
                                                valueFrom:
                                                  properties:
                                                    configMapKeyRef:
                                                      properties:
                                                        key:
                                                          type: string
                                                        name:
                                                          default: ""
                                                          type: string
                                                        optional:
                                                          type: boolean
                                                      required:
                                                        - key
                                                      type: object
                                                      x-kubernetes-map-type: atomic
                                                    fieldRef:
                                                      properties:
                                                        apiVersion:
                                                          type: string
                                                        fieldPath:
                                                          type: string
                                                      required:
                                                        - fieldPath
                                                      type: object
                                                      x-kubernetes-map-type: atomic
                                                    resourceFieldRef:
                                                      properties:
                                                        containerName:
                                                          type: string
                                                        divisor:
                                                          anyOf:
                                                            - type: integer
                                                            - type: string
                                                          pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                                          x-kubernetes-int-or-string: true
                                                        resource:
                                                          type: string
                                                      required:
                                                        - resource
                                                      type: object
                                                      x-kubernetes-map-type: atomic
                                                    secretKeyRef:
                                                      properties:
                                                        key:
                                                          type: string
                                                        name:
                                                          default: ""
                                                          type: string
                                                        optional:
                                                          type: boolean
                                                      required:
                                                        - key
                                                      type: object
                                                      x-kubernetes-map-type: atomic
                                                  type: object
                                              required:
                                                - name
                                              type: object
                                            type: array
                                          extraLabels:
                                            additionalProperties:
                                              type: string
                                            type: object
                                          extraVolumeMounts:
                                            items:
                                              properties:
                                                mountPath:
                                                  type: string
                                                mountPropagation:
                                                  type: string
                                                name:
                                                  type: string
                                                readOnly:
                                                  type: boolean
                                                recursiveReadOnly:
                                                  type: string
                                                subPath:
                                                  type: string
                                                subPathExpr:
                                                  type: string
                                              required:
                                                - mountPath
                                                - name
                                              type: object
                                            type: array
                                          extraVolumes:
                                            x-kubernetes-preserve-unknown-fields: true
                                          initContainers:
                                            x-kubernetes-preserve-unknown-fields: true
                                          mysqld:
                                            properties:
                                              configOverrides:
                                                type: string
                                              resources:
                                                properties:
                                                  claims:
                                                    items:
                                                      properties:
                                                        name:
                                                          type: string
                                                        request:
                                                          type: string
                                                      required:
                                                        - name
                                                      type: object
                                                    type: array
                                                    x-kubernetes-list-map-keys:
                                                      - name
                                                    x-kubernetes-list-type: map
                                                  limits:
                                                    additionalProperties:
                                                      anyOf:
                                                        - type: integer
                                                        - type: string
                                                      pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                                      x-kubernetes-int-or-string: true
                                                    type: object
                                                  requests:
                                                    additionalProperties:
                                                      anyOf:
                                                        - type: integer
                                                        - type: string
                                                      pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                                      x-kubernetes-int-or-string: true
                                                    type: object
                                                type: object
                                            required:
                                              - resources
                                            type: object
                                          mysqldExporter:
                                            properties:
                                              resources:
                                                properties:
                                                  claims:
                                                    items:
                                                      properties:
                                                        name:
                                                          type: string
                                                        request:
                                                          type: string
                                                      required:
                                                        - name
                                                      type: object
                                                    type: array
                                                    x-kubernetes-list-map-keys:
                                                      - name
                                                    x-kubernetes-list-type: map
                                                  limits:
                                                    additionalProperties:
                                                      anyOf:
                                                        - type: integer
                                                        - type: string
                                                      pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                                      x-kubernetes-int-or-string: true
                                                    type: object
                                                  requests:
                                                    additionalProperties:
                                                      anyOf:
                                                        - type: integer
                                                        - type: string
                                                      pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                                      x-kubernetes-int-or-string: true
                                                    type: object
                                                type: object
                                            required:
                                              - resources
                                            type: object
                                          name:
                                            default: ""
                                            type: string
                                          replicas:
                                            format: int32
                                            minimum: 0
                                            type: integer
                                          sidecarContainers:
                                            x-kubernetes-preserve-unknown-fields: true
                                          tolerations:
                                            x-kubernetes-preserve-unknown-fields: true
                                          topologySpreadConstraints:
                                            x-kubernetes-preserve-unknown-fields: true
                                          type:
                                            enum:
                                              - replica
                                              - rdonly
                                              - externalmaster
                                              - externalreplica
                                              - externalrdonly
                                            type: string
                                          vttablet:
                                            properties:
                                              extraFlags:
                                                additionalProperties:
                                                  type: string
                                                type: object
                                              lifecycle:
                                                x-kubernetes-preserve-unknown-fields: true
                                              resources:
                                                properties:
                                                  claims:
                                                    items:
                                                      properties:
                                                        name:
                                                          type: string
                                                        request:
                                                          type: string
                                                      required:
                                                        - name
                                                      type: object
                                                    type: array
                                                    x-kubernetes-list-map-keys:
                                                      - name
                                                    x-kubernetes-list-type: map
                                                  limits:
                                                    additionalProperties:
                                                      anyOf:
                                                        - type: integer
                                                        - type: string
                                                      pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                                      x-kubernetes-int-or-string: true
                                                    type: object
                                                  requests:
                                                    additionalProperties:
                                                      anyOf:
                                                        - type: integer
                                                        - type: string
                                                      pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                                      x-kubernetes-int-or-string: true
                                                    type: object
                                                type: object
                                              terminationGracePeriodSeconds:
                                                format: int64
                                                type: integer
                                            required:
                                              - resources
                                            type: object
                                        required:
                                          - cell
                                          - replicas
                                          - type
                                          - vttablet
                                        type: object
                                      type: array
                                      x-kubernetes-list-map-keys:
                                        - type
                                        - cell
                                        - name
                                      x-kubernetes-list-type: map
                                  required:
                                    - databaseInitScriptSecret
                                  type: object
                              required:
                                - parts
                              type: object
                          type: object
                        maxItems: 2
                        minItems: 1
                        type: array
                      turndownPolicy:
                        enum:
                          - RequireIdle
                          - Immediate
                        type: string
                      vitessOrchestrator:
                        properties:
                          affinity:
                            x-kubernetes-preserve-unknown-fields: true
                          annotations:
                            additionalProperties:
                              type: string
                            type: object
                          extraEnv:
                            items:
                              properties:
                                name:
                                  type: string
                                value:
                                  type: string
                                valueFrom:
                                  properties:
                                    configMapKeyRef:
                                      properties:
                                        key:
                                          type: string
                                        name:
                                          default: ""
                                          type: string
                                        optional:
                                          type: boolean
                                      required:
                                        - key
                                      type: object
                                      x-kubernetes-map-type: atomic
                                    fieldRef:
                                      properties:
                                        apiVersion:
                                          type: string
                                        fieldPath:
                                          type: string
                                      required:
                                        - fieldPath
                                      type: object
                                      x-kubernetes-map-type: atomic
                                    resourceFieldRef:
                                      properties:
                                        containerName:
                                          type: string
                                        divisor:
                                          anyOf:
                                            - type: integer
                                            - type: string
                                          pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                          x-kubernetes-int-or-string: true
                                        resource:
                                          type: string
                                      required:
                                        - resource
                                      type: object
                                      x-kubernetes-map-type: atomic
                                    secretKeyRef:
                                      properties:
                                        key:
                                          type: string
                                        name:
                                          default: ""
                                          type: string
                                        optional:
                                          type: boolean
                                      required:
                                        - key
                                      type: object
                                      x-kubernetes-map-type: atomic
                                  type: object
                              required:
                                - name
                              type: object
                            type: array
                          extraFlags:
                            additionalProperties:
                              type: string
                            type: object
                          extraLabels:
                            additionalProperties:
                              type: string
                            type: object
                          extraVolumeMounts:
                            items:
                              properties:
                                mountPath:
                                  type: string
                                mountPropagation:
                                  type: string
                                name:
                                  type: string
                                readOnly:
                                  type: boolean
                                recursiveReadOnly:
                                  type: string
                                subPath:
                                  type: string
                                subPathExpr:
                                  type: string
                              required:
                                - mountPath
                                - name
                              type: object
                            type: array
                          extraVolumes:
                            x-kubernetes-preserve-unknown-fields: true
                          initContainers:
                            x-kubernetes-preserve-unknown-fields: true
                          resources:
                            properties:
                              claims:
                                items:
                                  properties:
                                    name:
                                      type: string
                                    request:
                                      type: string
                                  required:
                                    - name
                                  type: object
                                type: array
                                x-kubernetes-list-map-keys:
                                  - name
                                x-kubernetes-list-type: map
                              limits:
                                additionalProperties:
                                  anyOf:
                                    - type: integer
                                    - type: string
                                  pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                  x-kubernetes-int-or-string: true
                                type: object
                              requests:
                                additionalProperties:
                                  anyOf:
                                    - type: integer
                                    - type: string
                                  pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                  x-kubernetes-int-or-string: true
                                type: object
                            type: object
                          service:
                            properties:
                              annotations:
                                additionalProperties:
                                  type: string
                                type: object
                              clusterIP:
                                type: string
                            type: object
                          sidecarContainers:
                            x-kubernetes-preserve-unknown-fields: true
                          tolerations:
                            x-kubernetes-preserve-unknown-fields: true
                        type: object
                    required:
                      - name
                      - partitionings
                    type: object
                  type: array
                tabletService:
                  properties:
                    annotations:
                      additionalProperties:
                        type: string
                      type: object
                    clusterIP:
                      type: string
                  type: object
                topologyReconciliation:
                  properties:
                    pruneCells:
                      type: boolean
                    pruneKeyspaces:
                      type: boolean
                    pruneShardCells:
                      type: boolean
                    pruneShards:
                      type: boolean
                    pruneSrvKeyspaces:
                      type: boolean
                    pruneTablets:
                      type: boolean
                    registerCells:
                      type: boolean
                    registerCellsAliases:
                      type: boolean
                  type: object
                updateStrategy:
                  properties:
                    external:
                      properties:
                        allowResourceChanges:
                          items:
                            type: string
                          type: array
                      type: object
                    type:
                      enum:
                        - External
                        - Immediate
                      type: string
                  type: object
                vitessDashboard:
                  properties:
                    affinity:
                      x-kubernetes-preserve-unknown-fields: true
                    annotations:
                      additionalProperties:
                        type: string
                      type: object
                    cells:
                      items:
                        type: string
                      type: array
                    extraEnv:
                      items:
                        properties:
                          name:
                            type: string
                          value:
                            type: string
                          valueFrom:
                            properties:
                              configMapKeyRef:
                                properties:
                                  key:
                                    type: string
                                  name:
                                    default: ""
                                    type: string
                                  optional:
                                    type: boolean
                                required:
                                  - key
                                type: object
                                x-kubernetes-map-type: atomic
                              fieldRef:
                                properties:
                                  apiVersion:
                                    type: string
                                  fieldPath:
                                    type: string
                                required:
                                  - fieldPath
                                type: object
                                x-kubernetes-map-type: atomic
                              resourceFieldRef:
                                properties:
                                  containerName:
                                    type: string
                                  divisor:
                                    anyOf:
                                      - type: integer
                                      - type: string
                                    pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                    x-kubernetes-int-or-string: true
                                  resource:
                                    type: string
                                required:
                                  - resource
                                type: object
                                x-kubernetes-map-type: atomic
                              secretKeyRef:
                                properties:
                                  key:
                                    type: string
                                  name:
                                    default: ""
                                    type: string
                                  optional:
                                    type: boolean
                                required:
                                  - key
                                type: object
                                x-kubernetes-map-type: atomic
                            type: object
                        required:
                          - name
                        type: object
                      type: array
                    extraFlags:
                      additionalProperties:
                        type: string
                      type: object
                    extraLabels:
                      additionalProperties:
                        type: string
                      type: object
                    extraVolumeMounts:
                      items:
                        properties:
                          mountPath:
                            type: string
                          mountPropagation:
                            type: string
                          name:
                            type: string
                          readOnly:
                            type: boolean
                          recursiveReadOnly:
                            type: string
                          subPath:
                            type: string
                          subPathExpr:
                            type: string
                        required:
                          - mountPath
                          - name
                        type: object
                      type: array
                    extraVolumes:
                      x-kubernetes-preserve-unknown-fields: true
                    initContainers:
                      x-kubernetes-preserve-unknown-fields: true
                    replicas:
                      format: int32
                      type: integer
                    resources:
                      properties:
                        claims:
                          items:
                            properties:
                              name:
                                type: string
                              request:
                                type: string
                            required:
                              - name
                            type: object
                          type: array
                          x-kubernetes-list-map-keys:
                            - name
                          x-kubernetes-list-type: map
                        limits:
                          additionalProperties:
                            anyOf:
                              - type: integer
                              - type: string
                            pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                            x-kubernetes-int-or-string: true
                          type: object
                        requests:
                          additionalProperties:
                            anyOf:
                              - type: integer
                              - type: string
                            pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                            x-kubernetes-int-or-string: true
                          type: object
                      type: object
                    service:
                      properties:
                        annotations:
                          additionalProperties:
                            type: string
                          type: object
                        clusterIP:
                          type: string
                      type: object
                    sidecarContainers:
                      x-kubernetes-preserve-unknown-fields: true
                    tolerations:
                      x-kubernetes-preserve-unknown-fields: true
                  type: object
                vtadmin:
                  properties:
                    affinity:
                      x-kubernetes-preserve-unknown-fields: true
                    annotations:
                      additionalProperties:
                        type: string
                      type: object
                    apiAddresses:
                      items:
                        type: string
                      type: array
                    apiResources:
                      properties:
                        claims:
                          items:
                            properties:
                              name:
                                type: string
                              request:
                                type: string
                            required:
                              - name
                            type: object
                          type: array
                          x-kubernetes-list-map-keys:
                            - name
                          x-kubernetes-list-type: map
                        limits:
                          additionalProperties:
                            anyOf:
                              - type: integer
                              - type: string
                            pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                            x-kubernetes-int-or-string: true
                          type: object
                        requests:
                          additionalProperties:
                            anyOf:
                              - type: integer
                              - type: string
                            pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                            x-kubernetes-int-or-string: true
                          type: object
                      type: object
                    cells:
                      items:
                        type: string
                      type: array
                    extraEnv:
                      items:
                        properties:
                          name:
                            type: string
                          value:
                            type: string
                          valueFrom:
                            properties:
                              configMapKeyRef:
                                properties:
                                  key:
                                    type: string
                                  name:
                                    default: ""
                                    type: string
                                  optional:
                                    type: boolean
                                required:
                                  - key
                                type: object
                                x-kubernetes-map-type: atomic
                              fieldRef:
                                properties:
                                  apiVersion:
                                    type: string
                                  fieldPath:
                                    type: string
                                required:
                                  - fieldPath
                                type: object
                                x-kubernetes-map-type: atomic
                              resourceFieldRef:
                                properties:
                                  containerName:
                                    type: string
                                  divisor:
                                    anyOf:
                                      - type: integer
                                      - type: string
                                    pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                    x-kubernetes-int-or-string: true
                                  resource:
                                    type: string
                                required:
                                  - resource
                                type: object
                                x-kubernetes-map-type: atomic
                              secretKeyRef:
                                properties:
                                  key:
                                    type: string
                                  name:
                                    default: ""
                                    type: string
                                  optional:
                                    type: boolean
                                required:
                                  - key
                                type: object
                                x-kubernetes-map-type: atomic
                            type: object
                        required:
                          - name
                        type: object
                      type: array
                    extraFlags:
                      additionalProperties:
                        type: string
                      type: object
                    extraLabels:
                      additionalProperties:
                        type: string
                      type: object
                    extraVolumeMounts:
                      items:
                        properties:
                          mountPath:
                            type: string
                          mountPropagation:
                            type: string
                          name:
                            type: string
                          readOnly:
                            type: boolean
                          recursiveReadOnly:
                            type: string
                          subPath:
                            type: string
                          subPathExpr:
                            type: string
                        required:
                          - mountPath
                          - name
                        type: object
                      type: array
                    extraVolumes:
                      x-kubernetes-preserve-unknown-fields: true
                    initContainers:
                      x-kubernetes-preserve-unknown-fields: true
                    rbac:
                      properties:
                        key:
                          type: string
                        name:
                          type: string
                        volumeName:
                          type: string
                      required:
                        - key
                      type: object
                    readOnly:
                      type: boolean
                    replicas:
                      format: int32
                      type: integer
                    service:
                      properties:
                        annotations:
                          additionalProperties:
                            type: string
                          type: object
                        clusterIP:
                          type: string
                      type: object
                    sidecarContainers:
                      x-kubernetes-preserve-unknown-fields: true
                    tolerations:
                      x-kubernetes-preserve-unknown-fields: true
                    webResources:
                      properties:
                        claims:
                          items:
                            properties:
                              name:
                                type: string
                              request:
                                type: string
                            required:
                              - name
                            type: object
                          type: array
                          x-kubernetes-list-map-keys:
                            - name
                          x-kubernetes-list-type: map
                        limits:
                          additionalProperties:
                            anyOf:
                              - type: integer
                              - type: string
                            pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                            x-kubernetes-int-or-string: true
                          type: object
                        requests:
                          additionalProperties:
                            anyOf:
                              - type: integer
                              - type: string
                            pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                            x-kubernetes-int-or-string: true
                          type: object
                      type: object
                  required:
                    - apiAddresses
                  type: object
              required:
                - cells
              type: object
            status:
              properties:
                cells:
                  additionalProperties:
                    properties:
                      gatewayAvailable:
                        type: string
                      pendingChanges:
                        type: string
                    type: object
                  type: object
                gatewayServiceName:
                  type: string
                globalLockserver:
                  properties:
                    etcd:
                      properties:
                        available:
                          type: string
                        clientServiceName:
                          type: string
                        observedGeneration:
                          format: int64
                          type: integer
                      type: object
                  type: object
                keyspaces:
                  additionalProperties:
                    properties:
                      cells:
                        items:
                          type: string
                        type: array
                      desiredShards:
                        format: int32
                        type: integer
                      desiredTablets:
                        format: int32
                        type: integer
                      pendingChanges:
                        type: string
                      readyShards:
                        format: int32
                        type: integer
                      readyTablets:
                        format: int32
                        type: integer
                      shards:
                        format: int32
                        type: integer
                      tablets:
                        format: int32
                        type: integer
                      updatedShards:
                        format: int32
                        type: integer
                      updatedTablets:
                        format: int32
                        type: integer
                    type: object
                  type: object
                observedGeneration:
                  format: int64
                  type: integer
                orphanedCells:
                  additionalProperties:
                    properties:
                      message:
                        type: string
                      reason:
                        type: string
                    required:
                      - message
                      - reason
                    type: object
                  type: object
                orphanedKeyspaces:
                  additionalProperties:
                    properties:
                      message:
                        type: string
                      reason:
                        type: string
                    required:
                      - message
                      - reason
                    type: object
                  type: object
                vitessDashboard:
                  properties:
                    available:
                      type: string
                    serviceName:
                      type: string
                  type: object
                vtadmin:
                  properties:
                    available:
                      type: string
                    serviceName:
                      type: string
                  type: object
              type: object
          type: object
      served: true
      storage: true
      subresources:
        status: {}
---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.16.1
  name: vitesskeyspaces.planetscale.com
spec:
  group: planetscale.com
  names:
    kind: VitessKeyspace
    listKind: VitessKeyspaceList
    plural: vitesskeyspaces
    shortNames:
      - vtk
    singular: vitesskeyspace
  scope: Namespaced
  versions:
    - name: v2
      schema:
        openAPIV3Schema:
          properties:
            apiVersion:
              type: string
            kind:
              type: string
            metadata:
              type: object
            spec:
              properties:
                annotations:
                  additionalProperties:
                    type: string
                  type: object
                backupEngine:
                  type: string
                backupLocations:
                  items:
                    properties:
                      annotations:
                        additionalProperties:
                          type: string
                        type: object
                      azblob:
                        properties:
                          account:
                            minLength: 1
                            type: string
                          authSecret:
                            properties:
                              key:
                                type: string
                              name:
                                type: string
                              volumeName:
                                type: string
                            required:
                              - key
                            type: object
                          container:
                            minLength: 1
                            type: string
                          keyPrefix:
                            maxLength: 256
                            pattern: ^[^\r\n]*$
                            type: string
                        required:
                          - account
                          - authSecret
                          - container
                        type: object
                      ceph:
                        properties:
                          authSecret:
                            properties:
                              key:
                                type: string
                              name:
                                type: string
                              volumeName:
                                type: string
                            required:
                              - key
                            type: object
                        required:
                          - authSecret
                        type: object
                      gcs:
                        properties:
                          authSecret:
                            properties:
                              key:
                                type: string
                              name:
                                type: string
                              volumeName:
                                type: string
                            required:
                              - key
                            type: object
                          bucket:
                            minLength: 1
                            type: string
                          keyPrefix:
                            maxLength: 256
                            pattern: ^[^\r\n]*$
                            type: string
                        required:
                          - bucket
                        type: object
                      name:
                        maxLength: 63
                        pattern: ^[A-Za-z0-9]([A-Za-z0-9-_.]*[A-Za-z0-9])?$
                        type: string
                      s3:
                        properties:
                          authSecret:
                            properties:
                              key:
                                type: string
                              name:
                                type: string
                              volumeName:
                                type: string
                            required:
                              - key
                            type: object
                          bucket:
                            minLength: 1
                            type: string
                          endpoint:
                            type: string
                          forcePathStyle:
                            type: boolean
                          keyPrefix:
                            maxLength: 256
                            pattern: ^[^\r\n]*$
                            type: string
                          region:
                            minLength: 1
                            type: string
                        required:
                          - bucket
                          - region
                        type: object
                      volume:
                        x-kubernetes-preserve-unknown-fields: true
                      volumeSubPath:
                        type: string
                    type: object
                  type: array
                databaseName:
                  type: string
                durabilityPolicy:
                  type: string
                extraVitessFlags:
                  additionalProperties:
                    type: string
                  type: object
                globalLockserver:
                  properties:
                    address:
                      type: string
                    implementation:
                      type: string
                    rootPath:
                      type: string
                  required:
                    - address
                    - implementation
                    - rootPath
                  type: object
                imagePullPolicies:
                  properties:
                    mysqld:
                      type: string
                    mysqldExporter:
                      type: string
                    vtadmin:
                      type: string
                    vtbackup:
                      type: string
                    vtctld:
                      type: string
                    vtgate:
                      type: string
                    vtorc:
                      type: string
                    vttablet:
                      type: string
                  type: object
                imagePullSecrets:
                  items:
                    properties:
                      name:
                        default: ""
                        type: string
                    type: object
                    x-kubernetes-map-type: atomic
                  type: array
                images:
                  properties:
                    mysqld:
                      properties:
                        mariadb103Compatible:
                          type: string
                        mariadbCompatible:
                          type: string
                        mysql56Compatible:
                          type: string
                        mysql80Compatible:
                          type: string
                      type: object
                    mysqldExporter:
                      type: string
                    vtbackup:
                      type: string
                    vtorc:
                      type: string
                    vttablet:
                      type: string
                  type: object
                name:
                  maxLength: 63
                  minLength: 1
                  pattern: ^[A-Za-z0-9]([A-Za-z0-9-_.]*[A-Za-z0-9])?$
                  type: string
                partitionings:
                  items:
                    properties:
                      custom:
                        properties:
                          shards:
                            items:
                              properties:
                                annotations:
                                  additionalProperties:
                                    type: string
                                  type: object
                                databaseInitScriptSecret:
                                  properties:
                                    key:
                                      type: string
                                    name:
                                      type: string
                                    volumeName:
                                      type: string
                                  required:
                                    - key
                                  type: object
                                keyRange:
                                  properties:
                                    end:
                                      pattern: ^([0-9a-f][0-9a-f])*$
                                      type: string
                                    start:
                                      pattern: ^([0-9a-f][0-9a-f])*$
                                      type: string
                                  type: object
                                replication:
                                  properties:
                                    initializeBackup:
                                      type: boolean
                                    initializeMaster:
                                      type: boolean
                                    recoverRestartedMaster:
                                      type: boolean
                                  type: object
                                tabletPools:
                                  items:
                                    properties:
                                      affinity:
                                        x-kubernetes-preserve-unknown-fields: true
                                      annotations:
                                        additionalProperties:
                                          type: string
                                        type: object
                                      backupLocationName:
                                        type: string
                                      cell:
                                        maxLength: 63
                                        minLength: 1
                                        pattern: ^[A-Za-z0-9]([_.A-Za-z0-9]*[A-Za-z0-9])?$
                                        type: string
                                      dataVolumeClaimTemplate:
                                        properties:
                                          accessModes:
                                            items:
                                              type: string
                                            type: array
                                            x-kubernetes-list-type: atomic
                                          dataSource:
                                            properties:
                                              apiGroup:
                                                type: string
                                              kind:
                                                type: string
                                              name:
                                                type: string
                                            required:
                                              - kind
                                              - name
                                            type: object
                                            x-kubernetes-map-type: atomic
                                          dataSourceRef:
                                            properties:
                                              apiGroup:
                                                type: string
                                              kind:
                                                type: string
                                              name:
                                                type: string
                                              namespace:
                                                type: string
                                            required:
                                              - kind
                                              - name
                                            type: object
                                          resources:
                                            properties:
                                              limits:
                                                additionalProperties:
                                                  anyOf:
                                                    - type: integer
                                                    - type: string
                                                  pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                                  x-kubernetes-int-or-string: true
                                                type: object
                                              requests:
                                                additionalProperties:
                                                  anyOf:
                                                    - type: integer
                                                    - type: string
                                                  pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                                  x-kubernetes-int-or-string: true
                                                type: object
                                            type: object
                                          selector:
                                            properties:
                                              matchExpressions:
                                                items:
                                                  properties:
                                                    key:
                                                      type: string
                                                    operator:
                                                      type: string
                                                    values:
                                                      items:
                                                        type: string
                                                      type: array
                                                      x-kubernetes-list-type: atomic
                                                  required:
                                                    - key
                                                    - operator
                                                  type: object
                                                type: array
                                                x-kubernetes-list-type: atomic
                                              matchLabels:
                                                additionalProperties:
                                                  type: string
                                                type: object
                                            type: object
                                            x-kubernetes-map-type: atomic
                                          storageClassName:
                                            type: string
                                          volumeAttributesClassName:
                                            type: string
                                          volumeMode:
                                            type: string
                                          volumeName:
                                            type: string
                                        type: object
                                      externalDatastore:
                                        properties:
                                          credentialsSecret:
                                            properties:
                                              key:
                                                type: string
                                              name:
                                                type: string
                                              volumeName:
                                                type: string
                                            required:
                                              - key
                                            type: object
                                          database:
                                            type: string
                                          host:
                                            type: string
                                          port:
                                            format: int32
                                            maximum: 65535
                                            minimum: 1
                                            type: integer
                                          serverCACertSecret:
                                            properties:
                                              key:
                                                type: string
                                              name:
                                                type: string
                                              volumeName:
                                                type: string
                                            required:
                                              - key
                                            type: object
                                          user:
                                            type: string
                                        required:
                                          - credentialsSecret
                                          - database
                                          - host
                                          - port
                                          - user
                                        type: object
                                      extraEnv:
                                        items:
                                          properties:
                                            name:
                                              type: string
                                            value:
                                              type: string
                                            valueFrom:
                                              properties:
                                                configMapKeyRef:
                                                  properties:
                                                    key:
                                                      type: string
                                                    name:
                                                      default: ""
                                                      type: string
                                                    optional:
                                                      type: boolean
                                                  required:
                                                    - key
                                                  type: object
                                                  x-kubernetes-map-type: atomic
                                                fieldRef:
                                                  properties:
                                                    apiVersion:
                                                      type: string
                                                    fieldPath:
                                                      type: string
                                                  required:
                                                    - fieldPath
                                                  type: object
                                                  x-kubernetes-map-type: atomic
                                                resourceFieldRef:
                                                  properties:
                                                    containerName:
                                                      type: string
                                                    divisor:
                                                      anyOf:
                                                        - type: integer
                                                        - type: string
                                                      pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                                      x-kubernetes-int-or-string: true
                                                    resource:
                                                      type: string
                                                  required:
                                                    - resource
                                                  type: object
                                                  x-kubernetes-map-type: atomic
                                                secretKeyRef:
                                                  properties:
                                                    key:
                                                      type: string
                                                    name:
                                                      default: ""
                                                      type: string
                                                    optional:
                                                      type: boolean
                                                  required:
                                                    - key
                                                  type: object
                                                  x-kubernetes-map-type: atomic
                                              type: object
                                          required:
                                            - name
                                          type: object
                                        type: array
                                      extraLabels:
                                        additionalProperties:
                                          type: string
                                        type: object
                                      extraVolumeMounts:
                                        items:
                                          properties:
                                            mountPath:
                                              type: string
                                            mountPropagation:
                                              type: string
                                            name:
                                              type: string
                                            readOnly:
                                              type: boolean
                                            recursiveReadOnly:
                                              type: string
                                            subPath:
                                              type: string
                                            subPathExpr:
                                              type: string
                                          required:
                                            - mountPath
                                            - name
                                          type: object
                                        type: array
                                      extraVolumes:
                                        x-kubernetes-preserve-unknown-fields: true
                                      initContainers:
                                        x-kubernetes-preserve-unknown-fields: true
                                      mysqld:
                                        properties:
                                          configOverrides:
                                            type: string
                                          resources:
                                            properties:
                                              claims:
                                                items:
                                                  properties:
                                                    name:
                                                      type: string
                                                    request:
                                                      type: string
                                                  required:
                                                    - name
                                                  type: object
                                                type: array
                                                x-kubernetes-list-map-keys:
                                                  - name
                                                x-kubernetes-list-type: map
                                              limits:
                                                additionalProperties:
                                                  anyOf:
                                                    - type: integer
                                                    - type: string
                                                  pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                                  x-kubernetes-int-or-string: true
                                                type: object
                                              requests:
                                                additionalProperties:
                                                  anyOf:
                                                    - type: integer
                                                    - type: string
                                                  pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                                  x-kubernetes-int-or-string: true
                                                type: object
                                            type: object
                                        required:
                                          - resources
                                        type: object
                                      mysqldExporter:
                                        properties:
                                          resources:
                                            properties:
                                              claims:
                                                items:
                                                  properties:
                                                    name:
                                                      type: string
                                                    request:
                                                      type: string
                                                  required:
                                                    - name
                                                  type: object
                                                type: array
                                                x-kubernetes-list-map-keys:
                                                  - name
                                                x-kubernetes-list-type: map
                                              limits:
                                                additionalProperties:
                                                  anyOf:
                                                    - type: integer
                                                    - type: string
                                                  pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                                  x-kubernetes-int-or-string: true
                                                type: object
                                              requests:
                                                additionalProperties:
                                                  anyOf:
                                                    - type: integer
                                                    - type: string
                                                  pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                                  x-kubernetes-int-or-string: true
                                                type: object
                                            type: object
                                        required:
                                          - resources
                                        type: object
                                      name:
                                        default: ""
                                        type: string
                                      replicas:
                                        format: int32
                                        minimum: 0
                                        type: integer
                                      sidecarContainers:
                                        x-kubernetes-preserve-unknown-fields: true
                                      tolerations:
                                        x-kubernetes-preserve-unknown-fields: true
                                      topologySpreadConstraints:
                                        x-kubernetes-preserve-unknown-fields: true
                                      type:
                                        enum:
                                          - replica
                                          - rdonly
                                          - externalmaster
                                          - externalreplica
                                          - externalrdonly
                                        type: string
                                      vttablet:
                                        properties:
                                          extraFlags:
                                            additionalProperties:
                                              type: string
                                            type: object
                                          lifecycle:
                                            x-kubernetes-preserve-unknown-fields: true
                                          resources:
                                            properties:
                                              claims:
                                                items:
                                                  properties:
                                                    name:
                                                      type: string
                                                    request:
                                                      type: string
                                                  required:
                                                    - name
                                                  type: object
                                                type: array
                                                x-kubernetes-list-map-keys:
                                                  - name
                                                x-kubernetes-list-type: map
                                              limits:
                                                additionalProperties:
                                                  anyOf:
                                                    - type: integer
                                                    - type: string
                                                  pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                                  x-kubernetes-int-or-string: true
                                                type: object
                                              requests:
                                                additionalProperties:
                                                  anyOf:
                                                    - type: integer
                                                    - type: string
                                                  pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                                  x-kubernetes-int-or-string: true
                                                type: object
                                            type: object
                                          terminationGracePeriodSeconds:
                                            format: int64
                                            type: integer
                                        required:
                                          - resources
                                        type: object
                                    required:
                                      - cell
                                      - replicas
                                      - type
                                      - vttablet
                                    type: object
                                  type: array
                                  x-kubernetes-list-map-keys:
                                    - type
                                    - cell
                                    - name
                                  x-kubernetes-list-type: map
                              required:
                                - databaseInitScriptSecret
                                - keyRange
                              type: object
                            type: array
                        required:
                          - shards
                        type: object
                      equal:
                        properties:
                          parts:
                            format: int32
                            maximum: 65536
                            minimum: 1
                            type: integer
                          shardTemplate:
                            properties:
                              annotations:
                                additionalProperties:
                                  type: string
                                type: object
                              databaseInitScriptSecret:
                                properties:
                                  key:
                                    type: string
                                  name:
                                    type: string
                                  volumeName:
                                    type: string
                                required:
                                  - key
                                type: object
                              replication:
                                properties:
                                  initializeBackup:
                                    type: boolean
                                  initializeMaster:
                                    type: boolean
                                  recoverRestartedMaster:
                                    type: boolean
                                type: object
                              tabletPools:
                                items:
                                  properties:
                                    affinity:
                                      x-kubernetes-preserve-unknown-fields: true
                                    annotations:
                                      additionalProperties:
                                        type: string
                                      type: object
                                    backupLocationName:
                                      type: string
                                    cell:
                                      maxLength: 63
                                      minLength: 1
                                      pattern: ^[A-Za-z0-9]([_.A-Za-z0-9]*[A-Za-z0-9])?$
                                      type: string
                                    dataVolumeClaimTemplate:
                                      properties:
                                        accessModes:
                                          items:
                                            type: string
                                          type: array
                                          x-kubernetes-list-type: atomic
                                        dataSource:
                                          properties:
                                            apiGroup:
                                              type: string
                                            kind:
                                              type: string
                                            name:
                                              type: string
                                          required:
                                            - kind
                                            - name
                                          type: object
                                          x-kubernetes-map-type: atomic
                                        dataSourceRef:
                                          properties:
                                            apiGroup:
                                              type: string
                                            kind:
                                              type: string
                                            name:
                                              type: string
                                            namespace:
                                              type: string
                                          required:
                                            - kind
                                            - name
                                          type: object
                                        resources:
                                          properties:
                                            limits:
                                              additionalProperties:
                                                anyOf:
                                                  - type: integer
                                                  - type: string
                                                pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                                x-kubernetes-int-or-string: true
                                              type: object
                                            requests:
                                              additionalProperties:
                                                anyOf:
                                                  - type: integer
                                                  - type: string
                                                pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                                x-kubernetes-int-or-string: true
                                              type: object
                                          type: object
                                        selector:
                                          properties:
                                            matchExpressions:
                                              items:
                                                properties:
                                                  key:
                                                    type: string
                                                  operator:
                                                    type: string
                                                  values:
                                                    items:
                                                      type: string
                                                    type: array
                                                    x-kubernetes-list-type: atomic
                                                required:
                                                  - key
                                                  - operator
                                                type: object
                                              type: array
                                              x-kubernetes-list-type: atomic
                                            matchLabels:
                                              additionalProperties:
                                                type: string
                                              type: object
                                          type: object
                                          x-kubernetes-map-type: atomic
                                        storageClassName:
                                          type: string
                                        volumeAttributesClassName:
                                          type: string
                                        volumeMode:
                                          type: string
                                        volumeName:
                                          type: string
                                      type: object
                                    externalDatastore:
                                      properties:
                                        credentialsSecret:
                                          properties:
                                            key:
                                              type: string
                                            name:
                                              type: string
                                            volumeName:
                                              type: string
                                          required:
                                            - key
                                          type: object
                                        database:
                                          type: string
                                        host:
                                          type: string
                                        port:
                                          format: int32
                                          maximum: 65535
                                          minimum: 1
                                          type: integer
                                        serverCACertSecret:
                                          properties:
                                            key:
                                              type: string
                                            name:
                                              type: string
                                            volumeName:
                                              type: string
                                          required:
                                            - key
                                          type: object
                                        user:
                                          type: string
                                      required:
                                        - credentialsSecret
                                        - database
                                        - host
                                        - port
                                        - user
                                      type: object
                                    extraEnv:
                                      items:
                                        properties:
                                          name:
                                            type: string
                                          value:
                                            type: string
                                          valueFrom:
                                            properties:
                                              configMapKeyRef:
                                                properties:
                                                  key:
                                                    type: string
                                                  name:
                                                    default: ""
                                                    type: string
                                                  optional:
                                                    type: boolean
                                                required:
                                                  - key
                                                type: object
                                                x-kubernetes-map-type: atomic
                                              fieldRef:
                                                properties:
                                                  apiVersion:
                                                    type: string
                                                  fieldPath:
                                                    type: string
                                                required:
                                                  - fieldPath
                                                type: object
                                                x-kubernetes-map-type: atomic
                                              resourceFieldRef:
                                                properties:
                                                  containerName:
                                                    type: string
                                                  divisor:
                                                    anyOf:
                                                      - type: integer
                                                      - type: string
                                                    pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                                    x-kubernetes-int-or-string: true
                                                  resource:
                                                    type: string
                                                required:
                                                  - resource
                                                type: object
                                                x-kubernetes-map-type: atomic
                                              secretKeyRef:
                                                properties:
                                                  key:
                                                    type: string
                                                  name:
                                                    default: ""
                                                    type: string
                                                  optional:
                                                    type: boolean
                                                required:
                                                  - key
                                                type: object
                                                x-kubernetes-map-type: atomic
                                            type: object
                                        required:
                                          - name
                                        type: object
                                      type: array
                                    extraLabels:
                                      additionalProperties:
                                        type: string
                                      type: object
                                    extraVolumeMounts:
                                      items:
                                        properties:
                                          mountPath:
                                            type: string
                                          mountPropagation:
                                            type: string
                                          name:
                                            type: string
                                          readOnly:
                                            type: boolean
                                          recursiveReadOnly:
                                            type: string
                                          subPath:
                                            type: string
                                          subPathExpr:
                                            type: string
                                        required:
                                          - mountPath
                                          - name
                                        type: object
                                      type: array
                                    extraVolumes:
                                      x-kubernetes-preserve-unknown-fields: true
                                    initContainers:
                                      x-kubernetes-preserve-unknown-fields: true
                                    mysqld:
                                      properties:
                                        configOverrides:
                                          type: string
                                        resources:
                                          properties:
                                            claims:
                                              items:
                                                properties:
                                                  name:
                                                    type: string
                                                  request:
                                                    type: string
                                                required:
                                                  - name
                                                type: object
                                              type: array
                                              x-kubernetes-list-map-keys:
                                                - name
                                              x-kubernetes-list-type: map
                                            limits:
                                              additionalProperties:
                                                anyOf:
                                                  - type: integer
                                                  - type: string
                                                pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                                x-kubernetes-int-or-string: true
                                              type: object
                                            requests:
                                              additionalProperties:
                                                anyOf:
                                                  - type: integer
                                                  - type: string
                                                pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                                x-kubernetes-int-or-string: true
                                              type: object
                                          type: object
                                      required:
                                        - resources
                                      type: object
                                    mysqldExporter:
                                      properties:
                                        resources:
                                          properties:
                                            claims:
                                              items:
                                                properties:
                                                  name:
                                                    type: string
                                                  request:
                                                    type: string
                                                required:
                                                  - name
                                                type: object
                                              type: array
                                              x-kubernetes-list-map-keys:
                                                - name
                                              x-kubernetes-list-type: map
                                            limits:
                                              additionalProperties:
                                                anyOf:
                                                  - type: integer
                                                  - type: string
                                                pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                                x-kubernetes-int-or-string: true
                                              type: object
                                            requests:
                                              additionalProperties:
                                                anyOf:
                                                  - type: integer
                                                  - type: string
                                                pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                                x-kubernetes-int-or-string: true
                                              type: object
                                          type: object
                                      required:
                                        - resources
                                      type: object
                                    name:
                                      default: ""
                                      type: string
                                    replicas:
                                      format: int32
                                      minimum: 0
                                      type: integer
                                    sidecarContainers:
                                      x-kubernetes-preserve-unknown-fields: true
                                    tolerations:
                                      x-kubernetes-preserve-unknown-fields: true
                                    topologySpreadConstraints:
                                      x-kubernetes-preserve-unknown-fields: true
                                    type:
                                      enum:
                                        - replica
                                        - rdonly
                                        - externalmaster
                                        - externalreplica
                                        - externalrdonly
                                      type: string
                                    vttablet:
                                      properties:
                                        extraFlags:
                                          additionalProperties:
                                            type: string
                                          type: object
                                        lifecycle:
                                          x-kubernetes-preserve-unknown-fields: true
                                        resources:
                                          properties:
                                            claims:
                                              items:
                                                properties:
                                                  name:
                                                    type: string
                                                  request:
                                                    type: string
                                                required:
                                                  - name
                                                type: object
                                              type: array
                                              x-kubernetes-list-map-keys:
                                                - name
                                              x-kubernetes-list-type: map
                                            limits:
                                              additionalProperties:
                                                anyOf:
                                                  - type: integer
                                                  - type: string
                                                pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                                x-kubernetes-int-or-string: true
                                              type: object
                                            requests:
                                              additionalProperties:
                                                anyOf:
                                                  - type: integer
                                                  - type: string
                                                pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                                x-kubernetes-int-or-string: true
                                              type: object
                                          type: object
                                        terminationGracePeriodSeconds:
                                          format: int64
                                          type: integer
                                      required:
                                        - resources
                                      type: object
                                  required:
                                    - cell
                                    - replicas
                                    - type
                                    - vttablet
                                  type: object
                                type: array
                                x-kubernetes-list-map-keys:
                                  - type
                                  - cell
                                  - name
                                x-kubernetes-list-type: map
                            required:
                              - databaseInitScriptSecret
                            type: object
                        required:
                          - parts
                        type: object
                    type: object
                  maxItems: 2
                  minItems: 1
                  type: array
                topologyReconciliation:
                  properties:
                    pruneCells:
                      type: boolean
                    pruneKeyspaces:
                      type: boolean
                    pruneShardCells:
                      type: boolean
                    pruneShards:
                      type: boolean
                    pruneSrvKeyspaces:
                      type: boolean
                    pruneTablets:
                      type: boolean
                    registerCells:
                      type: boolean
                    registerCellsAliases:
                      type: boolean
                  type: object
                turndownPolicy:
                  enum:
                    - RequireIdle
                    - Immediate
                  type: string
                updateStrategy:
                  properties:
                    external:
                      properties:
                        allowResourceChanges:
                          items:
                            type: string
                          type: array
                      type: object
                    type:
                      enum:
                        - External
                        - Immediate
                      type: string
                  type: object
                vitessOrchestrator:
                  properties:
                    affinity:
                      x-kubernetes-preserve-unknown-fields: true
                    annotations:
                      additionalProperties:
                        type: string
                      type: object
                    extraEnv:
                      items:
                        properties:
                          name:
                            type: string
                          value:
                            type: string
                          valueFrom:
                            properties:
                              configMapKeyRef:
                                properties:
                                  key:
                                    type: string
                                  name:
                                    default: ""
                                    type: string
                                  optional:
                                    type: boolean
                                required:
                                  - key
                                type: object
                                x-kubernetes-map-type: atomic
                              fieldRef:
                                properties:
                                  apiVersion:
                                    type: string
                                  fieldPath:
                                    type: string
                                required:
                                  - fieldPath
                                type: object
                                x-kubernetes-map-type: atomic
                              resourceFieldRef:
                                properties:
                                  containerName:
                                    type: string
                                  divisor:
                                    anyOf:
                                      - type: integer
                                      - type: string
                                    pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                    x-kubernetes-int-or-string: true
                                  resource:
                                    type: string
                                required:
                                  - resource
                                type: object
                                x-kubernetes-map-type: atomic
                              secretKeyRef:
                                properties:
                                  key:
                                    type: string
                                  name:
                                    default: ""
                                    type: string
                                  optional:
                                    type: boolean
                                required:
                                  - key
                                type: object
                                x-kubernetes-map-type: atomic
                            type: object
                        required:
                          - name
                        type: object
                      type: array
                    extraFlags:
                      additionalProperties:
                        type: string
                      type: object
                    extraLabels:
                      additionalProperties:
                        type: string
                      type: object
                    extraVolumeMounts:
                      items:
                        properties:
                          mountPath:
                            type: string
                          mountPropagation:
                            type: string
                          name:
                            type: string
                          readOnly:
                            type: boolean
                          recursiveReadOnly:
                            type: string
                          subPath:
                            type: string
                          subPathExpr:
                            type: string
                        required:
                          - mountPath
                          - name
                        type: object
                      type: array
                    extraVolumes:
                      x-kubernetes-preserve-unknown-fields: true
                    initContainers:
                      x-kubernetes-preserve-unknown-fields: true
                    resources:
                      properties:
                        claims:
                          items:
                            properties:
                              name:
                                type: string
                              request:
                                type: string
                            required:
                              - name
                            type: object
                          type: array
                          x-kubernetes-list-map-keys:
                            - name
                          x-kubernetes-list-type: map
                        limits:
                          additionalProperties:
                            anyOf:
                              - type: integer
                              - type: string
                            pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                            x-kubernetes-int-or-string: true
                          type: object
                        requests:
                          additionalProperties:
                            anyOf:
                              - type: integer
                              - type: string
                            pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                            x-kubernetes-int-or-string: true
                          type: object
                      type: object
                    service:
                      properties:
                        annotations:
                          additionalProperties:
                            type: string
                          type: object
                        clusterIP:
                          type: string
                      type: object
                    sidecarContainers:
                      x-kubernetes-preserve-unknown-fields: true
                    tolerations:
                      x-kubernetes-preserve-unknown-fields: true
                  type: object
                zoneMap:
                  additionalProperties:
                    type: string
                  type: object
              required:
                - globalLockserver
                - name
                - partitionings
                - zoneMap
              type: object
            status:
              properties:
                conditions:
                  items:
                    properties:
                      lastTransitionTime:
                        format: date-time
                        type: string
                      message:
                        type: string
                      reason:
                        type: string
                      status:
                        enum:
                          - "True"
                          - "False"
                          - Unknown
                        type: string
                      type:
                        type: string
                    required:
                      - status
                      - type
                    type: object
                  type: array
                idle:
                  type: string
                observedGeneration:
                  format: int64
                  type: integer
                orphanedShards:
                  additionalProperties:
                    properties:
                      message:
                        type: string
                      reason:
                        type: string
                    required:
                      - message
                      - reason
                    type: object
                  type: object
                partitionings:
                  items:
                    properties:
                      desiredShards:
                        format: int32
                        type: integer
                      desiredTablets:
                        format: int32
                        type: integer
                      readyShards:
                        format: int32
                        type: integer
                      readyTablets:
                        format: int32
                        type: integer
                      servingWrites:
                        type: string
                      shardNames:
                        items:
                          type: string
                        type: array
                      tablets:
                        format: int32
                        type: integer
                      updatedTablets:
                        format: int32
                        type: integer
                    type: object
                  type: array
                resharding:
                  properties:
                    copyProgress:
                      type: integer
                    sourceShards:
                      items:
                        type: string
                      type: array
                    state:
                      type: string
                    targetShards:
                      items:
                        type: string
                      type: array
                    workflow:
                      type: string
                  required:
                    - state
                    - workflow
                  type: object
                shards:
                  additionalProperties:
                    properties:
                      cells:
                        items:
                          type: string
                        type: array
                      desiredTablets:
                        format: int32
                        type: integer
                      hasMaster:
                        type: string
                      pendingChanges:
                        type: string
                      readyTablets:
                        format: int32
                        type: integer
                      servingWrites:
                        type: string
                      tablets:
                        format: int32
                        type: integer
                      updatedTablets:
                        format: int32
                        type: integer
                    type: object
                  type: object
              type: object
          type: object
      served: true
      storage: true
      subresources:
        status: {}
---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.16.1
  name: vitessshards.planetscale.com
spec:
  group: planetscale.com
  names:
    kind: VitessShard
    listKind: VitessShardList
    plural: vitessshards
    shortNames:
      - vts
    singular: vitessshard
  scope: Namespaced
  versions:
    - name: v2
      schema:
        openAPIV3Schema:
          properties:
            apiVersion:
              type: string
            kind:
              type: string
            metadata:
              type: object
            spec:
              properties:
                annotations:
                  additionalProperties:
                    type: string
                  type: object
                backupEngine:
                  type: string
                backupLocations:
                  items:
                    properties:
                      annotations:
                        additionalProperties:
                          type: string
                        type: object
                      azblob:
                        properties:
                          account:
                            minLength: 1
                            type: string
                          authSecret:
                            properties:
                              key:
                                type: string
                              name:
                                type: string
                              volumeName:
                                type: string
                            required:
                              - key
                            type: object
                          container:
                            minLength: 1
                            type: string
                          keyPrefix:
                            maxLength: 256
                            pattern: ^[^\r\n]*$
                            type: string
                        required:
                          - account
                          - authSecret
                          - container
                        type: object
                      ceph:
                        properties:
                          authSecret:
                            properties:
                              key:
                                type: string
                              name:
                                type: string
                              volumeName:
                                type: string
                            required:
                              - key
                            type: object
                        required:
                          - authSecret
                        type: object
                      gcs:
                        properties:
                          authSecret:
                            properties:
                              key:
                                type: string
                              name:
                                type: string
                              volumeName:
                                type: string
                            required:
                              - key
                            type: object
                          bucket:
                            minLength: 1
                            type: string
                          keyPrefix:
                            maxLength: 256
                            pattern: ^[^\r\n]*$
                            type: string
                        required:
                          - bucket
                        type: object
                      name:
                        maxLength: 63
                        pattern: ^[A-Za-z0-9]([A-Za-z0-9-_.]*[A-Za-z0-9])?$
                        type: string
                      s3:
                        properties:
                          authSecret:
                            properties:
                              key:
                                type: string
                              name:
                                type: string
                              volumeName:
                                type: string
                            required:
                              - key
                            type: object
                          bucket:
                            minLength: 1
                            type: string
                          endpoint:
                            type: string
                          forcePathStyle:
                            type: boolean
                          keyPrefix:
                            maxLength: 256
                            pattern: ^[^\r\n]*$
                            type: string
                          region:
                            minLength: 1
                            type: string
                        required:
                          - bucket
                          - region
                        type: object
                      volume:
                        x-kubernetes-preserve-unknown-fields: true
                      volumeSubPath:
                        type: string
                    type: object
                  type: array
                databaseInitScriptSecret:
                  properties:
                    key:
                      type: string
                    name:
                      type: string
                    volumeName:
                      type: string
                  required:
                    - key
                  type: object
                databaseName:
                  type: string
                extraVitessFlags:
                  additionalProperties:
                    type: string
                  type: object
                globalLockserver:
                  properties:
                    address:
                      type: string
                    implementation:
                      type: string
                    rootPath:
                      type: string
                  required:
                    - address
                    - implementation
                    - rootPath
                  type: object
                imagePullPolicies:
                  properties:
                    mysqld:
                      type: string
                    mysqldExporter:
                      type: string
                    vtadmin:
                      type: string
                    vtbackup:
                      type: string
                    vtctld:
                      type: string
                    vtgate:
                      type: string
                    vtorc:
                      type: string
                    vttablet:
                      type: string
                  type: object
                imagePullSecrets:
                  items:
                    properties:
                      name:
                        default: ""
                        type: string
                    type: object
                    x-kubernetes-map-type: atomic
                  type: array
                images:
                  properties:
                    mysqld:
                      properties:
                        mariadb103Compatible:
                          type: string
                        mariadbCompatible:
                          type: string
                        mysql56Compatible:
                          type: string
                        mysql80Compatible:
                          type: string
                      type: object
                    mysqldExporter:
                      type: string
                    vtbackup:
                      type: string
                    vtorc:
                      type: string
                    vttablet:
                      type: string
                  type: object
                keyRange:
                  properties:
                    end:
                      pattern: ^([0-9a-f][0-9a-f])*$
                      type: string
                    start:
                      pattern: ^([0-9a-f][0-9a-f])*$
                      type: string
                  type: object
                name:
                  type: string
                replication:
                  properties:
                    initializeBackup:
                      type: boolean
                    initializeMaster:
                      type: boolean
                    recoverRestartedMaster:
                      type: boolean
                  type: object
                tabletPools:
                  items:
                    properties:
                      affinity:
                        x-kubernetes-preserve-unknown-fields: true
                      annotations:
                        additionalProperties:
                          type: string
                        type: object
                      backupLocationName:
                        type: string
                      cell:
                        maxLength: 63
                        minLength: 1
                        pattern: ^[A-Za-z0-9]([_.A-Za-z0-9]*[A-Za-z0-9])?$
                        type: string
                      dataVolumeClaimTemplate:
                        properties:
                          accessModes:
                            items:
                              type: string
                            type: array
                            x-kubernetes-list-type: atomic
                          dataSource:
                            properties:
                              apiGroup:
                                type: string
                              kind:
                                type: string
                              name:
                                type: string
                            required:
                              - kind
                              - name
                            type: object
                            x-kubernetes-map-type: atomic
                          dataSourceRef:
                            properties:
                              apiGroup:
                                type: string
                              kind:
                                type: string
                              name:
                                type: string
                              namespace:
                                type: string
                            required:
                              - kind
                              - name
                            type: object
                          resources:
                            properties:
                              limits:
                                additionalProperties:
                                  anyOf:
                                    - type: integer
                                    - type: string
                                  pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                  x-kubernetes-int-or-string: true
                                type: object
                              requests:
                                additionalProperties:
                                  anyOf:
                                    - type: integer
                                    - type: string
                                  pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                  x-kubernetes-int-or-string: true
                                type: object
                            type: object
                          selector:
                            properties:
                              matchExpressions:
                                items:
                                  properties:
                                    key:
                                      type: string
                                    operator:
                                      type: string
                                    values:
                                      items:
                                        type: string
                                      type: array
                                      x-kubernetes-list-type: atomic
                                  required:
                                    - key
                                    - operator
                                  type: object
                                type: array
                                x-kubernetes-list-type: atomic
                              matchLabels:
                                additionalProperties:
                                  type: string
                                type: object
                            type: object
                            x-kubernetes-map-type: atomic
                          storageClassName:
                            type: string
                          volumeAttributesClassName:
                            type: string
                          volumeMode:
                            type: string
                          volumeName:
                            type: string
                        type: object
                      externalDatastore:
                        properties:
                          credentialsSecret:
                            properties:
                              key:
                                type: string
                              name:
                                type: string
                              volumeName:
                                type: string
                            required:
                              - key
                            type: object
                          database:
                            type: string
                          host:
                            type: string
                          port:
                            format: int32
                            maximum: 65535
                            minimum: 1
                            type: integer
                          serverCACertSecret:
                            properties:
                              key:
                                type: string
                              name:
                                type: string
                              volumeName:
                                type: string
                            required:
                              - key
                            type: object
                          user:
                            type: string
                        required:
                          - credentialsSecret
                          - database
                          - host
                          - port
                          - user
                        type: object
                      extraEnv:
                        items:
                          properties:
                            name:
                              type: string
                            value:
                              type: string
                            valueFrom:
                              properties:
                                configMapKeyRef:
                                  properties:
                                    key:
                                      type: string
                                    name:
                                      default: ""
                                      type: string
                                    optional:
                                      type: boolean
                                  required:
                                    - key
                                  type: object
                                  x-kubernetes-map-type: atomic
                                fieldRef:
                                  properties:
                                    apiVersion:
                                      type: string
                                    fieldPath:
                                      type: string
                                  required:
                                    - fieldPath
                                  type: object
                                  x-kubernetes-map-type: atomic
                                resourceFieldRef:
                                  properties:
                                    containerName:
                                      type: string
                                    divisor:
                                      anyOf:
                                        - type: integer
                                        - type: string
                                      pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                      x-kubernetes-int-or-string: true
                                    resource:
                                      type: string
                                  required:
                                    - resource
                                  type: object
                                  x-kubernetes-map-type: atomic
                                secretKeyRef:
                                  properties:
                                    key:
                                      type: string
                                    name:
                                      default: ""
                                      type: string
                                    optional:
                                      type: boolean
                                  required:
                                    - key
                                  type: object
                                  x-kubernetes-map-type: atomic
                              type: object
                          required:
                            - name
                          type: object
                        type: array
                      extraLabels:
                        additionalProperties:
                          type: string
                        type: object
                      extraVolumeMounts:
                        items:
                          properties:
                            mountPath:
                              type: string
                            mountPropagation:
                              type: string
                            name:
                              type: string
                            readOnly:
                              type: boolean
                            recursiveReadOnly:
                              type: string
                            subPath:
                              type: string
                            subPathExpr:
                              type: string
                          required:
                            - mountPath
                            - name
                          type: object
                        type: array
                      extraVolumes:
                        x-kubernetes-preserve-unknown-fields: true
                      initContainers:
                        x-kubernetes-preserve-unknown-fields: true
                      mysqld:
                        properties:
                          configOverrides:
                            type: string
                          resources:
                            properties:
                              claims:
                                items:
                                  properties:
                                    name:
                                      type: string
                                    request:
                                      type: string
                                  required:
                                    - name
                                  type: object
                                type: array
                                x-kubernetes-list-map-keys:
                                  - name
                                x-kubernetes-list-type: map
                              limits:
                                additionalProperties:
                                  anyOf:
                                    - type: integer
                                    - type: string
                                  pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                  x-kubernetes-int-or-string: true
                                type: object
                              requests:
                                additionalProperties:
                                  anyOf:
                                    - type: integer
                                    - type: string
                                  pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                  x-kubernetes-int-or-string: true
                                type: object
                            type: object
                        required:
                          - resources
                        type: object
                      mysqldExporter:
                        properties:
                          resources:
                            properties:
                              claims:
                                items:
                                  properties:
                                    name:
                                      type: string
                                    request:
                                      type: string
                                  required:
                                    - name
                                  type: object
                                type: array
                                x-kubernetes-list-map-keys:
                                  - name
                                x-kubernetes-list-type: map
                              limits:
                                additionalProperties:
                                  anyOf:
                                    - type: integer
                                    - type: string
                                  pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                  x-kubernetes-int-or-string: true
                                type: object
                              requests:
                                additionalProperties:
                                  anyOf:
                                    - type: integer
                                    - type: string
                                  pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                  x-kubernetes-int-or-string: true
                                type: object
                            type: object
                        required:
                          - resources
                        type: object
                      name:
                        default: ""
                        type: string
                      replicas:
                        format: int32
                        minimum: 0
                        type: integer
                      sidecarContainers:
                        x-kubernetes-preserve-unknown-fields: true
                      tolerations:
                        x-kubernetes-preserve-unknown-fields: true
                      topologySpreadConstraints:
                        x-kubernetes-preserve-unknown-fields: true
                      type:
                        enum:
                          - replica
                          - rdonly
                          - externalmaster
                          - externalreplica
                          - externalrdonly
                        type: string
                      vttablet:
                        properties:
                          extraFlags:
                            additionalProperties:
                              type: string
                            type: object
                          lifecycle:
                            x-kubernetes-preserve-unknown-fields: true
                          resources:
                            properties:
                              claims:
                                items:
                                  properties:
                                    name:
                                      type: string
                                    request:
                                      type: string
                                  required:
                                    - name
                                  type: object
                                type: array
                                x-kubernetes-list-map-keys:
                                  - name
                                x-kubernetes-list-type: map
                              limits:
                                additionalProperties:
                                  anyOf:
                                    - type: integer
                                    - type: string
                                  pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                  x-kubernetes-int-or-string: true
                                type: object
                              requests:
                                additionalProperties:
                                  anyOf:
                                    - type: integer
                                    - type: string
                                  pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                  x-kubernetes-int-or-string: true
                                type: object
                            type: object
                          terminationGracePeriodSeconds:
                            format: int64
                            type: integer
                        required:
                          - resources
                        type: object
                    required:
                      - cell
                      - replicas
                      - type
                      - vttablet
                    type: object
                  type: array
                  x-kubernetes-list-map-keys:
                    - type
                    - cell
                    - name
                  x-kubernetes-list-type: map
                topologyReconciliation:
                  properties:
                    pruneCells:
                      type: boolean
                    pruneKeyspaces:
                      type: boolean
                    pruneShardCells:
                      type: boolean
                    pruneShards:
                      type: boolean
                    pruneSrvKeyspaces:
                      type: boolean
                    pruneTablets:
                      type: boolean
                    registerCells:
                      type: boolean
                    registerCellsAliases:
                      type: boolean
                  type: object
                updateStrategy:
                  properties:
                    external:
                      properties:
                        allowResourceChanges:
                          items:
                            type: string
                          type: array
                      type: object
                    type:
                      enum:
                        - External
                        - Immediate
                      type: string
                  type: object
                vitessOrchestrator:
                  properties:
                    affinity:
                      x-kubernetes-preserve-unknown-fields: true
                    annotations:
                      additionalProperties:
                        type: string
                      type: object
                    extraEnv:
                      items:
                        properties:
                          name:
                            type: string
                          value:
                            type: string
                          valueFrom:
                            properties:
                              configMapKeyRef:
                                properties:
                                  key:
                                    type: string
                                  name:
                                    default: ""
                                    type: string
                                  optional:
                                    type: boolean
                                required:
                                  - key
                                type: object
                                x-kubernetes-map-type: atomic
                              fieldRef:
                                properties:
                                  apiVersion:
                                    type: string
                                  fieldPath:
                                    type: string
                                required:
                                  - fieldPath
                                type: object
                                x-kubernetes-map-type: atomic
                              resourceFieldRef:
                                properties:
                                  containerName:
                                    type: string
                                  divisor:
                                    anyOf:
                                      - type: integer
                                      - type: string
                                    pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                    x-kubernetes-int-or-string: true
                                  resource:
                                    type: string
                                required:
                                  - resource
                                type: object
                                x-kubernetes-map-type: atomic
                              secretKeyRef:
                                properties:
                                  key:
                                    type: string
                                  name:
                                    default: ""
                                    type: string
                                  optional:
                                    type: boolean
                                required:
                                  - key
                                type: object
                                x-kubernetes-map-type: atomic
                            type: object
                        required:
                          - name
                        type: object
                      type: array
                    extraFlags:
                      additionalProperties:
                        type: string
                      type: object
                    extraLabels:
                      additionalProperties:
                        type: string
                      type: object
                    extraVolumeMounts:
                      items:
                        properties:
                          mountPath:
                            type: string
                          mountPropagation:
                            type: string
                          name:
                            type: string
                          readOnly:
                            type: boolean
                          recursiveReadOnly:
                            type: string
                          subPath:
                            type: string
                          subPathExpr:
                            type: string
                        required:
                          - mountPath
                          - name
                        type: object
                      type: array
                    extraVolumes:
                      x-kubernetes-preserve-unknown-fields: true
                    initContainers:
                      x-kubernetes-preserve-unknown-fields: true
                    resources:
                      properties:
                        claims:
                          items:
                            properties:
                              name:
                                type: string
                              request:
                                type: string
                            required:
                              - name
                            type: object
                          type: array
                          x-kubernetes-list-map-keys:
                            - name
                          x-kubernetes-list-type: map
                        limits:
                          additionalProperties:
                            anyOf:
                              - type: integer
                              - type: string
                            pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                            x-kubernetes-int-or-string: true
                          type: object
                        requests:
                          additionalProperties:
                            anyOf:
                              - type: integer
                              - type: string
                            pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                            x-kubernetes-int-or-string: true
                          type: object
                      type: object
                    service:
                      properties:
                        annotations:
                          additionalProperties:
                            type: string
                          type: object
                        clusterIP:
                          type: string
                      type: object
                    sidecarContainers:
                      x-kubernetes-preserve-unknown-fields: true
                    tolerations:
                      x-kubernetes-preserve-unknown-fields: true
                  type: object
                zoneMap:
                  additionalProperties:
                    type: string
                  type: object
              required:
                - databaseInitScriptSecret
                - globalLockserver
                - images
                - keyRange
                - name
                - zoneMap
              type: object
            status:
              properties:
                backupLocations:
                  items:
                    properties:
                      completeBackups:
                        format: int32
                        type: integer
                      incompleteBackups:
                        format: int32
                        type: integer
                      latestCompleteBackupTime:
                        format: date-time
                        type: string
                      name:
                        type: string
                    required:
                      - completeBackups
                      - incompleteBackups
                    type: object
                  type: array
                cells:
                  items:
                    type: string
                  type: array
                conditions:
                  additionalProperties:
                    properties:
                      lastTransitionTime:
                        format: date-time
                        type: string
                      message:
                        type: string
                      reason:
                        type: string
                      status:
                        enum:
                          - "True"
                          - "False"
                          - Unknown
                        type: string
                    required:
                      - status
                    type: object
                  type: object
                hasInitialBackup:
                  type: string
                hasMaster:
                  type: string
                idle:
                  type: string
                lowestPodGeneration:
                  format: int64
                  type: integer
                masterAlias:
                  type: string
                observedGeneration:
                  format: int64
                  type: integer
                orphanedTablets:
                  additionalProperties:
                    properties:
                      message:
                        type: string
                      reason:
                        type: string
                    required:
                      - message
                      - reason
                    type: object
                  type: object
                servingWrites:
                  type: string
                tablets:
                  additionalProperties:
                    properties:
                      available:
                        type: string
                      dataVolumeBound:
                        type: string
                      index:
                        format: int32
                        type: integer
                      pendingChanges:
                        type: string
                      poolType:
                        type: string
                      ready:
                        type: string
                      running:
                        type: string
                      type:
                        type: string
                    type: object
                  type: object
                vitessOrchestrator:
                  properties:
                    available:
                      type: string
                    serviceName:
                      type: string
                  type: object
              type: object
          type: object
      served: true
      storage: true
      subresources:
        status: {}
---
apiVersion: v1
kind: ServiceAccount
metadata:
  name: vitess-operator
---
apiVersion: rbac.authorization.k8s.io/v1
kind: Role
metadata:
  name: vitess-operator
rules:
  - apiGroups:
      - ""
    resources:
      - pods
      - services
      - endpoints
      - persistentvolumeclaims
      - events
      - configmaps
      - secrets
    verbs:
      - '*'
  - apiGroups:
      - ""
    resources:
      - namespaces
    verbs:
      - get
  - apiGroups:
      - apps
    resources:
      - deployments
      - daemonsets
      - replicasets
      - statefulsets
    verbs:
      - '*'
  - apiGroups:
      - policy
    resources:
      - poddisruptionbudgets
    verbs:
      - '*'
  - apiGroups:
      - apps
    resourceNames:
      - vitess-operator
    resources:
      - deployments/finalizers
    verbs:
      - update
  - apiGroups:
      - planetscale.com
    resources:
      - vitessclusters
      - vitessclusters/status
      - vitessclusters/finalizers
      - vitesscells
      - vitesscells/status
      - vitesscells/finalizers
      - vitesskeyspaces
      - vitesskeyspaces/status
      - vitesskeyspaces/finalizers
      - vitessshards
      - vitessshards/status
      - vitessshards/finalizers
      - etcdlockservers
      - etcdlockservers/status
      - etcdlockservers/finalizers
      - vitessbackups
      - vitessbackups/status
      - vitessbackups/finalizers
      - vitessbackupstorages
      - vitessbackupstorages/status
      - vitessbackupstorages/finalizers
      - vitessbackupschedules
      - vitessbackupschedules/status
      - vitessbackupschedules/finalizers
    verbs:
      - '*'
  - apiGroups:
      - batch
    resources:
      - jobs
    verbs:
      - '*'
  - apiGroups:
      - autoscaling
    resources:
      - horizontalpodautoscalers
    verbs:
      - '*'
---
apiVersion: rbac.authorization.k8s.io/v1
kind: RoleBinding
metadata:
  name: vitess-operator
roleRef:
  apiGroup: rbac.authorization.k8s.io
  kind: Role
  name: vitess-operator
subjects:
  - kind: ServiceAccount
    name: vitess-operator
---
apiVersion: scheduling.k8s.io/v1
description: Vitess components (vttablet, vtgate, vtctld, etcd)
globalDefault: false
kind: PriorityClass
metadata:
  name: vitess
value: 1000
---
apiVersion: scheduling.k8s.io/v1
description: The vitess-operator control plane.
globalDefault: false
kind: PriorityClass
metadata:
  name: vitess-operator-control-plane
value: 5000
---
apiVersion: apps/v1
kind: Deployment
metadata:
  name: vitess-operator
spec:
  replicas: 1
  selector:
    matchLabels:
      app: vitess-operator
  template:
    metadata:
      labels:
        app: vitess-operator
    spec:
      containers:
        - args:
            - --logtostderr
            - -v=4
          command:
            - vitess-operator
          env:
            - name: WATCH_NAMESPACE
              valueFrom:
                fieldRef:
                  fieldPath: metadata.namespace
            - name: POD_NAME
              valueFrom:
                fieldRef:
                  fieldPath: metadata.name
            - name: PS_OPERATOR_POD_NAMESPACE
              valueFrom:
                fieldRef:
                  fieldPath: metadata.namespace
            - name: PS_OPERATOR_POD_NAME
              valueFrom:
                fieldRef:
                  fieldPath: metadata.name
            - name: OPERATOR_NAME
              value: vitess-operator
          image: planetscale/vitess-operator:latest
          name: vitess-operator
          resources:
            limits:
              memory: 512Mi
            requests:
              cpu: 100m
              memory: 128Mi
      priorityClassName: vitess-operator-control-plane
      serviceAccountName: vitess-operator
